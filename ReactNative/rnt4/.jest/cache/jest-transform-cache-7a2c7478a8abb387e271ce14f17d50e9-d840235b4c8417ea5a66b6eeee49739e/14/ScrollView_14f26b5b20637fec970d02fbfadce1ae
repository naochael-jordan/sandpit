941ab51d1203f600735d00bc43b26b99


'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var AnimatedImplementation = require('AnimatedImplementation');
var Platform = require('Platform');
var React = require('React');
var ReactNative = require('ReactNative');
var ScrollResponder = require('ScrollResponder');
var ScrollViewStickyHeader = require('ScrollViewStickyHeader');
var StyleSheet = require('StyleSheet');
var View = require('View');
var InternalScrollViewType = require('InternalScrollViewType');

var createReactClass = require('create-react-class');
var dismissKeyboard = require('dismissKeyboard');
var flattenStyle = require('flattenStyle');
var invariant = require('fbjs/lib/invariant');
var processDecelerationRate = require('processDecelerationRate');
var requireNativeComponent = require('requireNativeComponent');
var warning = require('fbjs/lib/warning');
var resolveAssetSource = require('resolveAssetSource');

var AndroidScrollView = void 0;
var AndroidHorizontalScrollContentView = void 0;
var AndroidHorizontalScrollView = void 0;
var RCTScrollView = void 0;
var RCTScrollContentView = void 0;

if (Platform.OS === 'android') {
  AndroidScrollView = requireNativeComponent('RCTScrollView');
  AndroidHorizontalScrollView = requireNativeComponent('AndroidHorizontalScrollView');
  AndroidHorizontalScrollContentView = requireNativeComponent('AndroidHorizontalScrollContentView');
} else if (Platform.OS === 'ios') {
  RCTScrollView = requireNativeComponent('RCTScrollView');
  RCTScrollContentView = requireNativeComponent('RCTScrollContentView');
} else {
  RCTScrollView = requireNativeComponent('RCTScrollView');
  RCTScrollContentView = requireNativeComponent('RCTScrollContentView');
}

var ScrollView = createReactClass({
  displayName: 'ScrollView',
  mixins: [ScrollResponder.Mixin],

  _scrollAnimatedValue: new AnimatedImplementation.Value(0),
  _scrollAnimatedValueAttachment: null,
  _stickyHeaderRefs: new Map(),
  _headerLayoutYs: new Map(),
  getInitialState: function getInitialState() {
    return _extends({}, this.scrollResponderMixinGetInitialState(), {
      layoutHeight: null
    });
  },

  UNSAFE_componentWillMount: function UNSAFE_componentWillMount() {
    this._scrollAnimatedValue = new AnimatedImplementation.Value(this.props.contentOffset ? this.props.contentOffset.y : 0);
    this._scrollAnimatedValue.setOffset(this.props.contentInset ? this.props.contentInset.top : 0);
    this._stickyHeaderRefs = new Map();
    this._headerLayoutYs = new Map();
  },

  componentDidMount: function componentDidMount() {
    this._updateAnimatedNodeAttachment();
  },

  componentDidUpdate: function componentDidUpdate() {
    this._updateAnimatedNodeAttachment();
  },

  componentWillUnmount: function componentWillUnmount() {
    if (this._scrollAnimatedValueAttachment) {
      this._scrollAnimatedValueAttachment.detach();
    }
  },

  setNativeProps: function setNativeProps(props) {
    this._scrollViewRef && this._scrollViewRef.setNativeProps(props);
  },

  getScrollResponder: function getScrollResponder() {
    return this;
  },

  getScrollableNode: function getScrollableNode() {
    return ReactNative.findNodeHandle(this._scrollViewRef);
  },

  getInnerViewNode: function getInnerViewNode() {
    return ReactNative.findNodeHandle(this._innerViewRef);
  },

  scrollTo: function scrollTo(y, x, animated) {
    if (typeof y === 'number') {
      console.warn('`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, ' + 'animated: true})` instead.');
    } else {
      var _ref = y || {};

      x = _ref.x;
      y = _ref.y;
      animated = _ref.animated;
    }
    this.getScrollResponder().scrollResponderScrollTo({
      x: x || 0,
      y: y || 0,
      animated: animated !== false
    });
  },

  scrollToEnd: function scrollToEnd(options) {
    var animated = (options && options.animated) !== false;
    this.getScrollResponder().scrollResponderScrollToEnd({
      animated: animated
    });
  },

  scrollWithoutAnimationTo: function scrollWithoutAnimationTo() {
    var y = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
    var x = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;

    console.warn('`scrollWithoutAnimationTo` is deprecated. Use `scrollTo` instead');
    this.scrollTo({ x: x, y: y, animated: false });
  },

  flashScrollIndicators: function flashScrollIndicators() {
    this.getScrollResponder().scrollResponderFlashScrollIndicators();
  },

  _getKeyForIndex: function _getKeyForIndex(index, childArray) {
    var child = childArray[index];
    return child && child.key;
  },

  _updateAnimatedNodeAttachment: function _updateAnimatedNodeAttachment() {
    if (this._scrollAnimatedValueAttachment) {
      this._scrollAnimatedValueAttachment.detach();
    }
    if (this.props.stickyHeaderIndices && this.props.stickyHeaderIndices.length > 0) {
      this._scrollAnimatedValueAttachment = AnimatedImplementation.attachNativeEvent(this._scrollViewRef, 'onScroll', [{ nativeEvent: { contentOffset: { y: this._scrollAnimatedValue } } }]);
    }
  },

  _setStickyHeaderRef: function _setStickyHeaderRef(key, ref) {
    if (ref) {
      this._stickyHeaderRefs.set(key, ref);
    } else {
      this._stickyHeaderRefs.delete(key);
    }
  },

  _onStickyHeaderLayout: function _onStickyHeaderLayout(index, event, key) {
    if (!this.props.stickyHeaderIndices) {
      return;
    }
    var childArray = React.Children.toArray(this.props.children);
    if (key !== this._getKeyForIndex(index, childArray)) {
      return;
    }

    var layoutY = event.nativeEvent.layout.y;
    this._headerLayoutYs.set(key, layoutY);

    var indexOfIndex = this.props.stickyHeaderIndices.indexOf(index);
    var previousHeaderIndex = this.props.stickyHeaderIndices[indexOfIndex - 1];
    if (previousHeaderIndex != null) {
      var previousHeader = this._stickyHeaderRefs.get(this._getKeyForIndex(previousHeaderIndex, childArray));
      previousHeader && previousHeader.setNextHeaderY(layoutY);
    }
  },

  _handleScroll: function _handleScroll(e) {
    if (__DEV__) {
      if (this.props.onScroll && this.props.scrollEventThrottle == null && Platform.OS === 'ios') {
        console.log('You specified `onScroll` on a <ScrollView> but not ' + '`scrollEventThrottle`. You will only receive one event. ' + 'Using `16` you get all the events but be aware that it may ' + "cause frame drops, use a bigger number if you don't need as " + 'much precision.');
      }
    }
    if (Platform.OS === 'android') {
      if (this.props.keyboardDismissMode === 'on-drag' && this.state.isTouching) {
        dismissKeyboard();
      }
    }
    this.scrollResponderHandleScroll(e);
  },

  _handleLayout: function _handleLayout(e) {
    if (this.props.invertStickyHeaders) {
      this.setState({ layoutHeight: e.nativeEvent.layout.height });
    }
    if (this.props.onLayout) {
      this.props.onLayout(e);
    }
  },

  _handleContentOnLayout: function _handleContentOnLayout(e) {
    var _e$nativeEvent$layout = e.nativeEvent.layout,
        width = _e$nativeEvent$layout.width,
        height = _e$nativeEvent$layout.height;

    this.props.onContentSizeChange && this.props.onContentSizeChange(width, height);
  },

  _scrollViewRef: null,
  _setScrollViewRef: function _setScrollViewRef(ref) {
    this._scrollViewRef = ref;
  },

  _innerViewRef: null,
  _setInnerViewRef: function _setInnerViewRef(ref) {
    this._innerViewRef = ref;
  },

  render: function render() {
    var _this = this;

    var ScrollViewClass = void 0;
    var ScrollContentContainerViewClass = void 0;
    if (Platform.OS === 'android') {
      if (this.props.horizontal) {
        ScrollViewClass = AndroidHorizontalScrollView;
        ScrollContentContainerViewClass = AndroidHorizontalScrollContentView;
      } else {
        ScrollViewClass = AndroidScrollView;
        ScrollContentContainerViewClass = View;
      }
    } else {
      ScrollViewClass = RCTScrollView;
      ScrollContentContainerViewClass = RCTScrollContentView;
    }

    invariant(ScrollViewClass !== undefined, 'ScrollViewClass must not be undefined');

    invariant(ScrollContentContainerViewClass !== undefined, 'ScrollContentContainerViewClass must not be undefined');

    var contentContainerStyle = [this.props.horizontal && styles.contentContainerHorizontal, this.props.contentContainerStyle];
    if (__DEV__ && this.props.style) {
      var _style = flattenStyle(this.props.style);
      var childLayoutProps = ['alignItems', 'justifyContent'].filter(function (prop) {
        return _style && _style[prop] !== undefined;
      });
      invariant(childLayoutProps.length === 0, 'ScrollView child layout (' + JSON.stringify(childLayoutProps) + ') must be applied through the contentContainerStyle prop.');
    }

    var contentSizeChangeProps = {};
    if (this.props.onContentSizeChange) {
      contentSizeChangeProps = {
        onLayout: this._handleContentOnLayout
      };
    }

    var stickyHeaderIndices = this.props.stickyHeaderIndices;

    var hasStickyHeaders = stickyHeaderIndices && stickyHeaderIndices.length > 0;
    var childArray = hasStickyHeaders && React.Children.toArray(this.props.children);
    var children = hasStickyHeaders ? childArray.map(function (child, index) {
      var indexOfIndex = child ? stickyHeaderIndices.indexOf(index) : -1;
      if (indexOfIndex > -1) {
        var key = child.key;
        var nextIndex = stickyHeaderIndices[indexOfIndex + 1];
        return React.createElement(
          ScrollViewStickyHeader,
          {
            key: key,
            ref: function ref(_ref2) {
              return _this._setStickyHeaderRef(key, _ref2);
            },
            nextHeaderLayoutY: _this._headerLayoutYs.get(_this._getKeyForIndex(nextIndex, childArray)),
            onLayout: function onLayout(event) {
              return _this._onStickyHeaderLayout(index, event, key);
            },
            scrollAnimatedValue: _this._scrollAnimatedValue,
            inverted: _this.props.invertStickyHeaders,
            scrollViewHeight: _this.state.layoutHeight },
          child
        );
      } else {
        return child;
      }
    }) : this.props.children;
    var contentContainer = React.createElement(
      ScrollContentContainerViewClass,
      _extends({}, contentSizeChangeProps, {
        ref: this._setInnerViewRef,
        style: contentContainerStyle,
        removeClippedSubviews: Platform.OS === 'android' && hasStickyHeaders ? false : this.props.removeClippedSubviews,
        collapsable: false }),
      children
    );

    var alwaysBounceHorizontal = this.props.alwaysBounceHorizontal !== undefined ? this.props.alwaysBounceHorizontal : this.props.horizontal;

    var alwaysBounceVertical = this.props.alwaysBounceVertical !== undefined ? this.props.alwaysBounceVertical : !this.props.horizontal;

    var DEPRECATED_sendUpdatedChildFrames = !!this.props.DEPRECATED_sendUpdatedChildFrames;

    var baseStyle = this.props.horizontal ? styles.baseHorizontal : styles.baseVertical;
    var props = _extends({}, this.props, {
      alwaysBounceHorizontal: alwaysBounceHorizontal,
      alwaysBounceVertical: alwaysBounceVertical,
      style: [baseStyle, this.props.style],

      onContentSizeChange: null,
      onLayout: this._handleLayout,
      onMomentumScrollBegin: this.scrollResponderHandleMomentumScrollBegin,
      onMomentumScrollEnd: this.scrollResponderHandleMomentumScrollEnd,
      onResponderGrant: this.scrollResponderHandleResponderGrant,
      onResponderReject: this.scrollResponderHandleResponderReject,
      onResponderRelease: this.scrollResponderHandleResponderRelease,

      onResponderTerminate: this.scrollResponderHandleTerminate,
      onResponderTerminationRequest: this.scrollResponderHandleTerminationRequest,
      onScroll: this._handleScroll,
      onScrollBeginDrag: this.scrollResponderHandleScrollBeginDrag,
      onScrollEndDrag: this.scrollResponderHandleScrollEndDrag,
      onScrollShouldSetResponder: this.scrollResponderHandleScrollShouldSetResponder,
      onStartShouldSetResponder: this.scrollResponderHandleStartShouldSetResponder,
      onStartShouldSetResponderCapture: this.scrollResponderHandleStartShouldSetResponderCapture,
      onTouchEnd: this.scrollResponderHandleTouchEnd,
      onTouchMove: this.scrollResponderHandleTouchMove,
      onTouchStart: this.scrollResponderHandleTouchStart,
      onTouchCancel: this.scrollResponderHandleTouchCancel,
      scrollBarThumbImage: resolveAssetSource(this.props.scrollBarThumbImage),
      scrollEventThrottle: hasStickyHeaders ? 1 : this.props.scrollEventThrottle,
      sendMomentumEvents: this.props.onMomentumScrollBegin || this.props.onMomentumScrollEnd ? true : false,
      DEPRECATED_sendUpdatedChildFrames: DEPRECATED_sendUpdatedChildFrames,

      pagingEnabled: Platform.select({
        ios: this.props.pagingEnabled && this.props.snapToInterval == null && this.props.snapToOffsets == null,

        android: this.props.pagingEnabled || this.props.snapToInterval != null || this.props.snapToOffsets != null
      })
    });

    var decelerationRate = this.props.decelerationRate;

    if (decelerationRate != null) {
      props.decelerationRate = processDecelerationRate(decelerationRate);
    }

    var refreshControl = this.props.refreshControl;

    if (refreshControl) {
      if (Platform.OS === 'ios') {
        return React.createElement(
          ScrollViewClass,
          _extends({}, props, { ref: this._setScrollViewRef }),
          Platform.isTV ? null : refreshControl,
          contentContainer
        );
      } else if (Platform.OS === 'android') {

        return React.cloneElement(refreshControl, { style: props.style }, React.createElement(
          ScrollViewClass,
          _extends({}, props, {
            style: baseStyle,
            ref: this._setScrollViewRef }),
          contentContainer
        ));
      }
    }
    return React.createElement(
      ScrollViewClass,
      _extends({}, props, { ref: this._setScrollViewRef }),
      contentContainer
    );
  }
});

var TypedScrollView = ScrollView;

var styles = StyleSheet.create({
  baseVertical: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'column',
    overflow: 'scroll'
  },
  baseHorizontal: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'row',
    overflow: 'scroll'
  },
  contentContainerHorizontal: {
    flexDirection: 'row'
  }
});

module.exports = TypedScrollView;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNjcm9sbFZpZXcuanMiXSwibmFtZXMiOlsiQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbiIsInJlcXVpcmUiLCJQbGF0Zm9ybSIsIlJlYWN0IiwiUmVhY3ROYXRpdmUiLCJTY3JvbGxSZXNwb25kZXIiLCJTY3JvbGxWaWV3U3RpY2t5SGVhZGVyIiwiU3R5bGVTaGVldCIsIlZpZXciLCJJbnRlcm5hbFNjcm9sbFZpZXdUeXBlIiwiY3JlYXRlUmVhY3RDbGFzcyIsImRpc21pc3NLZXlib2FyZCIsImZsYXR0ZW5TdHlsZSIsImludmFyaWFudCIsInByb2Nlc3NEZWNlbGVyYXRpb25SYXRlIiwicmVxdWlyZU5hdGl2ZUNvbXBvbmVudCIsIndhcm5pbmciLCJyZXNvbHZlQXNzZXRTb3VyY2UiLCJBbmRyb2lkU2Nyb2xsVmlldyIsIkFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsQ29udGVudFZpZXciLCJBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbFZpZXciLCJSQ1RTY3JvbGxWaWV3IiwiUkNUU2Nyb2xsQ29udGVudFZpZXciLCJPUyIsIlNjcm9sbFZpZXciLCJkaXNwbGF5TmFtZSIsIm1peGlucyIsIk1peGluIiwiX3Njcm9sbEFuaW1hdGVkVmFsdWUiLCJWYWx1ZSIsIl9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudCIsIl9zdGlja3lIZWFkZXJSZWZzIiwiTWFwIiwiX2hlYWRlckxheW91dFlzIiwiZ2V0SW5pdGlhbFN0YXRlIiwic2Nyb2xsUmVzcG9uZGVyTWl4aW5HZXRJbml0aWFsU3RhdGUiLCJsYXlvdXRIZWlnaHQiLCJVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50IiwicHJvcHMiLCJjb250ZW50T2Zmc2V0IiwieSIsInNldE9mZnNldCIsImNvbnRlbnRJbnNldCIsInRvcCIsImNvbXBvbmVudERpZE1vdW50IiwiX3VwZGF0ZUFuaW1hdGVkTm9kZUF0dGFjaG1lbnQiLCJjb21wb25lbnREaWRVcGRhdGUiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsImRldGFjaCIsInNldE5hdGl2ZVByb3BzIiwiX3Njcm9sbFZpZXdSZWYiLCJnZXRTY3JvbGxSZXNwb25kZXIiLCJnZXRTY3JvbGxhYmxlTm9kZSIsImZpbmROb2RlSGFuZGxlIiwiZ2V0SW5uZXJWaWV3Tm9kZSIsIl9pbm5lclZpZXdSZWYiLCJzY3JvbGxUbyIsIngiLCJhbmltYXRlZCIsImNvbnNvbGUiLCJ3YXJuIiwic2Nyb2xsUmVzcG9uZGVyU2Nyb2xsVG8iLCJzY3JvbGxUb0VuZCIsIm9wdGlvbnMiLCJzY3JvbGxSZXNwb25kZXJTY3JvbGxUb0VuZCIsInNjcm9sbFdpdGhvdXRBbmltYXRpb25UbyIsImZsYXNoU2Nyb2xsSW5kaWNhdG9ycyIsInNjcm9sbFJlc3BvbmRlckZsYXNoU2Nyb2xsSW5kaWNhdG9ycyIsIl9nZXRLZXlGb3JJbmRleCIsImluZGV4IiwiY2hpbGRBcnJheSIsImNoaWxkIiwia2V5Iiwic3RpY2t5SGVhZGVySW5kaWNlcyIsImxlbmd0aCIsImF0dGFjaE5hdGl2ZUV2ZW50IiwibmF0aXZlRXZlbnQiLCJfc2V0U3RpY2t5SGVhZGVyUmVmIiwicmVmIiwic2V0IiwiZGVsZXRlIiwiX29uU3RpY2t5SGVhZGVyTGF5b3V0IiwiZXZlbnQiLCJDaGlsZHJlbiIsInRvQXJyYXkiLCJjaGlsZHJlbiIsImxheW91dFkiLCJsYXlvdXQiLCJpbmRleE9mSW5kZXgiLCJpbmRleE9mIiwicHJldmlvdXNIZWFkZXJJbmRleCIsInByZXZpb3VzSGVhZGVyIiwiZ2V0Iiwic2V0TmV4dEhlYWRlclkiLCJfaGFuZGxlU2Nyb2xsIiwiZSIsIl9fREVWX18iLCJvblNjcm9sbCIsInNjcm9sbEV2ZW50VGhyb3R0bGUiLCJsb2ciLCJrZXlib2FyZERpc21pc3NNb2RlIiwic3RhdGUiLCJpc1RvdWNoaW5nIiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlU2Nyb2xsIiwiX2hhbmRsZUxheW91dCIsImludmVydFN0aWNreUhlYWRlcnMiLCJzZXRTdGF0ZSIsImhlaWdodCIsIm9uTGF5b3V0IiwiX2hhbmRsZUNvbnRlbnRPbkxheW91dCIsIndpZHRoIiwib25Db250ZW50U2l6ZUNoYW5nZSIsIl9zZXRTY3JvbGxWaWV3UmVmIiwiX3NldElubmVyVmlld1JlZiIsInJlbmRlciIsIlNjcm9sbFZpZXdDbGFzcyIsIlNjcm9sbENvbnRlbnRDb250YWluZXJWaWV3Q2xhc3MiLCJob3Jpem9udGFsIiwidW5kZWZpbmVkIiwiY29udGVudENvbnRhaW5lclN0eWxlIiwic3R5bGVzIiwiY29udGVudENvbnRhaW5lckhvcml6b250YWwiLCJzdHlsZSIsImNoaWxkTGF5b3V0UHJvcHMiLCJmaWx0ZXIiLCJwcm9wIiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbnRlbnRTaXplQ2hhbmdlUHJvcHMiLCJoYXNTdGlja3lIZWFkZXJzIiwibWFwIiwibmV4dEluZGV4IiwiY29udGVudENvbnRhaW5lciIsInJlbW92ZUNsaXBwZWRTdWJ2aWV3cyIsImFsd2F5c0JvdW5jZUhvcml6b250YWwiLCJhbHdheXNCb3VuY2VWZXJ0aWNhbCIsIkRFUFJFQ0FURURfc2VuZFVwZGF0ZWRDaGlsZEZyYW1lcyIsImJhc2VTdHlsZSIsImJhc2VIb3Jpem9udGFsIiwiYmFzZVZlcnRpY2FsIiwib25Nb21lbnR1bVNjcm9sbEJlZ2luIiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlTW9tZW50dW1TY3JvbGxCZWdpbiIsIm9uTW9tZW50dW1TY3JvbGxFbmQiLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVNb21lbnR1bVNjcm9sbEVuZCIsIm9uUmVzcG9uZGVyR3JhbnQiLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVSZXNwb25kZXJHcmFudCIsIm9uUmVzcG9uZGVyUmVqZWN0Iiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlUmVzcG9uZGVyUmVqZWN0Iiwib25SZXNwb25kZXJSZWxlYXNlIiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlUmVzcG9uZGVyUmVsZWFzZSIsIm9uUmVzcG9uZGVyVGVybWluYXRlIiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlVGVybWluYXRlIiwib25SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3QiLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVUZXJtaW5hdGlvblJlcXVlc3QiLCJvblNjcm9sbEJlZ2luRHJhZyIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVNjcm9sbEJlZ2luRHJhZyIsIm9uU2Nyb2xsRW5kRHJhZyIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVNjcm9sbEVuZERyYWciLCJvblNjcm9sbFNob3VsZFNldFJlc3BvbmRlciIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVNjcm9sbFNob3VsZFNldFJlc3BvbmRlciIsIm9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXIiLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlciIsIm9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlIiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlIiwib25Ub3VjaEVuZCIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVRvdWNoRW5kIiwib25Ub3VjaE1vdmUiLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVUb3VjaE1vdmUiLCJvblRvdWNoU3RhcnQiLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVUb3VjaFN0YXJ0Iiwib25Ub3VjaENhbmNlbCIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVRvdWNoQ2FuY2VsIiwic2Nyb2xsQmFyVGh1bWJJbWFnZSIsInNlbmRNb21lbnR1bUV2ZW50cyIsInBhZ2luZ0VuYWJsZWQiLCJzZWxlY3QiLCJpb3MiLCJzbmFwVG9JbnRlcnZhbCIsInNuYXBUb09mZnNldHMiLCJhbmRyb2lkIiwiZGVjZWxlcmF0aW9uUmF0ZSIsInJlZnJlc2hDb250cm9sIiwiaXNUViIsImNsb25lRWxlbWVudCIsIlR5cGVkU2Nyb2xsVmlldyIsImNyZWF0ZSIsImZsZXhHcm93IiwiZmxleFNocmluayIsImZsZXhEaXJlY3Rpb24iLCJvdmVyZmxvdyIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBVUE7Ozs7QUFF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QkFBb0JoSyxVQUExQjs7QUFJQSxJQUFNZ0csU0FBU2pILFdBQVdrTCxNQUFYLENBQWtCO0FBQy9COUMsZ0JBQWM7QUFDWitDLGNBQVUsQ0FERTtBQUVaQyxnQkFBWSxDQUZBO0FBR1pDLG1CQUFlLFFBSEg7QUFJWkMsY0FBVTtBQUpFLEdBRGlCO0FBTy9CbkQsa0JBQWdCO0FBQ2RnRCxjQUFVLENBREk7QUFFZEMsZ0JBQVksQ0FGRTtBQUdkQyxtQkFBZSxLQUhEO0FBSWRDLGNBQVU7QUFKSSxHQVBlO0FBYS9CcEUsOEJBQTRCO0FBQzFCbUUsbUJBQWU7QUFEVztBQWJHLENBQWxCLENBQWY7O0FBa0JBRSxPQUFPQyxPQUFQLEdBQWlCUCxlQUFqQiIsImZpbGUiOiJTY3JvbGxWaWV3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZm9ybWF0XG4gKiBAZmxvd1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbiA9IHJlcXVpcmUoJ0FuaW1hdGVkSW1wbGVtZW50YXRpb24nKTtcbmNvbnN0IFBsYXRmb3JtID0gcmVxdWlyZSgnUGxhdGZvcm0nKTtcbmNvbnN0IFJlYWN0ID0gcmVxdWlyZSgnUmVhY3QnKTtcbmNvbnN0IFJlYWN0TmF0aXZlID0gcmVxdWlyZSgnUmVhY3ROYXRpdmUnKTtcbmNvbnN0IFNjcm9sbFJlc3BvbmRlciA9IHJlcXVpcmUoJ1Njcm9sbFJlc3BvbmRlcicpO1xuY29uc3QgU2Nyb2xsVmlld1N0aWNreUhlYWRlciA9IHJlcXVpcmUoJ1Njcm9sbFZpZXdTdGlja3lIZWFkZXInKTtcbmNvbnN0IFN0eWxlU2hlZXQgPSByZXF1aXJlKCdTdHlsZVNoZWV0Jyk7XG5jb25zdCBWaWV3ID0gcmVxdWlyZSgnVmlldycpO1xuY29uc3QgSW50ZXJuYWxTY3JvbGxWaWV3VHlwZSA9IHJlcXVpcmUoJ0ludGVybmFsU2Nyb2xsVmlld1R5cGUnKTtcblxuY29uc3QgY3JlYXRlUmVhY3RDbGFzcyA9IHJlcXVpcmUoJ2NyZWF0ZS1yZWFjdC1jbGFzcycpO1xuY29uc3QgZGlzbWlzc0tleWJvYXJkID0gcmVxdWlyZSgnZGlzbWlzc0tleWJvYXJkJyk7XG5jb25zdCBmbGF0dGVuU3R5bGUgPSByZXF1aXJlKCdmbGF0dGVuU3R5bGUnKTtcbmNvbnN0IGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuY29uc3QgcHJvY2Vzc0RlY2VsZXJhdGlvblJhdGUgPSByZXF1aXJlKCdwcm9jZXNzRGVjZWxlcmF0aW9uUmF0ZScpO1xuY29uc3QgcmVxdWlyZU5hdGl2ZUNvbXBvbmVudCA9IHJlcXVpcmUoJ3JlcXVpcmVOYXRpdmVDb21wb25lbnQnKTtcbmNvbnN0IHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG5jb25zdCByZXNvbHZlQXNzZXRTb3VyY2UgPSByZXF1aXJlKCdyZXNvbHZlQXNzZXRTb3VyY2UnKTtcblxuaW1wb3J0IHR5cGUge1ByZXNzRXZlbnR9IGZyb20gJ0NvcmVFdmVudFR5cGVzJztcbmltcG9ydCB0eXBlIHtFZGdlSW5zZXRzUHJvcH0gZnJvbSAnRWRnZUluc2V0c1Byb3BUeXBlJztcbmltcG9ydCB0eXBlIHtOYXRpdmVNZXRob2RzTWl4aW5UeXBlfSBmcm9tICdSZWFjdE5hdGl2ZVR5cGVzJztcbmltcG9ydCB0eXBlIHtWaWV3U3R5bGVQcm9wfSBmcm9tICdTdHlsZVNoZWV0JztcbmltcG9ydCB0eXBlIHtWaWV3UHJvcHN9IGZyb20gJ1ZpZXdQcm9wVHlwZXMnO1xuaW1wb3J0IHR5cGUge1BvaW50UHJvcH0gZnJvbSAnUG9pbnRQcm9wVHlwZSc7XG5cbmltcG9ydCB0eXBlIHtDb2xvclZhbHVlfSBmcm9tICdTdHlsZVNoZWV0VHlwZXMnO1xuXG5sZXQgQW5kcm9pZFNjcm9sbFZpZXc7XG5sZXQgQW5kcm9pZEhvcml6b250YWxTY3JvbGxDb250ZW50VmlldztcbmxldCBBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbFZpZXc7XG5sZXQgUkNUU2Nyb2xsVmlldztcbmxldCBSQ1RTY3JvbGxDb250ZW50VmlldztcblxuaWYgKFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcpIHtcbiAgQW5kcm9pZFNjcm9sbFZpZXcgPSByZXF1aXJlTmF0aXZlQ29tcG9uZW50KCdSQ1RTY3JvbGxWaWV3Jyk7XG4gIEFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsVmlldyA9IHJlcXVpcmVOYXRpdmVDb21wb25lbnQoXG4gICAgJ0FuZHJvaWRIb3Jpem9udGFsU2Nyb2xsVmlldycsXG4gICk7XG4gIEFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsQ29udGVudFZpZXcgPSByZXF1aXJlTmF0aXZlQ29tcG9uZW50KFxuICAgICdBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbENvbnRlbnRWaWV3JyxcbiAgKTtcbn0gZWxzZSBpZiAoUGxhdGZvcm0uT1MgPT09ICdpb3MnKSB7XG4gIFJDVFNjcm9sbFZpZXcgPSByZXF1aXJlTmF0aXZlQ29tcG9uZW50KCdSQ1RTY3JvbGxWaWV3Jyk7XG4gIFJDVFNjcm9sbENvbnRlbnRWaWV3ID0gcmVxdWlyZU5hdGl2ZUNvbXBvbmVudCgnUkNUU2Nyb2xsQ29udGVudFZpZXcnKTtcbn0gZWxzZSB7XG4gIFJDVFNjcm9sbFZpZXcgPSByZXF1aXJlTmF0aXZlQ29tcG9uZW50KCdSQ1RTY3JvbGxWaWV3Jyk7XG4gIFJDVFNjcm9sbENvbnRlbnRWaWV3ID0gcmVxdWlyZU5hdGl2ZUNvbXBvbmVudCgnUkNUU2Nyb2xsQ29udGVudFZpZXcnKTtcbn1cblxudHlwZSBUb3VjaGFibGVQcm9wcyA9ICRSZWFkT25seTx7fFxuICBvblRvdWNoU3RhcnQ/OiAoZXZlbnQ6IFByZXNzRXZlbnQpID0+IHZvaWQsXG4gIG9uVG91Y2hNb3ZlPzogKGV2ZW50OiBQcmVzc0V2ZW50KSA9PiB2b2lkLFxuICBvblRvdWNoRW5kPzogKGV2ZW50OiBQcmVzc0V2ZW50KSA9PiB2b2lkLFxuICBvblRvdWNoQ2FuY2VsPzogKGV2ZW50OiBQcmVzc0V2ZW50KSA9PiB2b2lkLFxuICBvblRvdWNoRW5kQ2FwdHVyZT86IChldmVudDogUHJlc3NFdmVudCkgPT4gdm9pZCxcbnx9PjtcblxudHlwZSBJT1NQcm9wcyA9ICRSZWFkT25seTx7fFxuICAvKipcbiAgICogQ29udHJvbHMgd2hldGhlciBpT1Mgc2hvdWxkIGF1dG9tYXRpY2FsbHkgYWRqdXN0IHRoZSBjb250ZW50IGluc2V0XG4gICAqIGZvciBzY3JvbGwgdmlld3MgdGhhdCBhcmUgcGxhY2VkIGJlaGluZCBhIG5hdmlnYXRpb24gYmFyIG9yXG4gICAqIHRhYiBiYXIvIHRvb2xiYXIuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGF1dG9tYXRpY2FsbHlBZGp1c3RDb250ZW50SW5zZXRzPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBUaGUgYW1vdW50IGJ5IHdoaWNoIHRoZSBzY3JvbGwgdmlldyBjb250ZW50IGlzIGluc2V0IGZyb20gdGhlIGVkZ2VzXG4gICAqIG9mIHRoZSBzY3JvbGwgdmlldy4gRGVmYXVsdHMgdG8gYHt0b3A6IDAsIGxlZnQ6IDAsIGJvdHRvbTogMCwgcmlnaHQ6IDB9YC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgY29udGVudEluc2V0PzogP0VkZ2VJbnNldHNQcm9wLFxuICAvKipcbiAgICogVXNlZCB0byBtYW51YWxseSBzZXQgdGhlIHN0YXJ0aW5nIHNjcm9sbCBvZmZzZXQuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGB7eDogMCwgeTogMH1gLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBjb250ZW50T2Zmc2V0PzogP1BvaW50UHJvcCxcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIHNjcm9sbCB2aWV3IGJvdW5jZXMgd2hlbiBpdCByZWFjaGVzIHRoZSBlbmQgb2YgdGhlXG4gICAqIGNvbnRlbnQgaWYgdGhlIGNvbnRlbnQgaXMgbGFyZ2VyIHRoZW4gdGhlIHNjcm9sbCB2aWV3IGFsb25nIHRoZSBheGlzIG9mXG4gICAqIHRoZSBzY3JvbGwgZGlyZWN0aW9uLiBXaGVuIGZhbHNlLCBpdCBkaXNhYmxlcyBhbGwgYm91bmNpbmcgZXZlbiBpZlxuICAgKiB0aGUgYGFsd2F5c0JvdW5jZSpgIHByb3BzIGFyZSB0cnVlLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBib3VuY2VzPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIGdlc3R1cmVzIGNhbiBkcml2ZSB6b29tIHBhc3QgbWluL21heCBhbmQgdGhlIHpvb20gd2lsbCBhbmltYXRlXG4gICAqIHRvIHRoZSBtaW4vbWF4IHZhbHVlIGF0IGdlc3R1cmUgZW5kLCBvdGhlcndpc2UgdGhlIHpvb20gd2lsbCBub3QgZXhjZWVkXG4gICAqIHRoZSBsaW1pdHMuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGJvdW5jZXNab29tPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBib3VuY2VzIGhvcml6b250YWxseSB3aGVuIGl0IHJlYWNoZXMgdGhlIGVuZFxuICAgKiBldmVuIGlmIHRoZSBjb250ZW50IGlzIHNtYWxsZXIgdGhhbiB0aGUgc2Nyb2xsIHZpZXcgaXRzZWxmLiBUaGUgZGVmYXVsdFxuICAgKiB2YWx1ZSBpcyB0cnVlIHdoZW4gYGhvcml6b250YWw9e3RydWV9YCBhbmQgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBhbHdheXNCb3VuY2VIb3Jpem9udGFsPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBib3VuY2VzIHZlcnRpY2FsbHkgd2hlbiBpdCByZWFjaGVzIHRoZSBlbmRcbiAgICogZXZlbiBpZiB0aGUgY29udGVudCBpcyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3IGl0c2VsZi4gVGhlIGRlZmF1bHRcbiAgICogdmFsdWUgaXMgZmFsc2Ugd2hlbiBgaG9yaXpvbnRhbD17dHJ1ZX1gIGFuZCB0cnVlIG90aGVyd2lzZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYWx3YXlzQm91bmNlVmVydGljYWw/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIHNjcm9sbCB2aWV3IGF1dG9tYXRpY2FsbHkgY2VudGVycyB0aGUgY29udGVudCB3aGVuIHRoZVxuICAgKiBjb250ZW50IGlzIHNtYWxsZXIgdGhhbiB0aGUgc2Nyb2xsIHZpZXcgYm91bmRzOyB3aGVuIHRoZSBjb250ZW50IGlzXG4gICAqIGxhcmdlciB0aGFuIHRoZSBzY3JvbGwgdmlldywgdGhpcyBwcm9wZXJ0eSBoYXMgbm8gZWZmZWN0LiBUaGUgZGVmYXVsdFxuICAgKiB2YWx1ZSBpcyBmYWxzZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgY2VudGVyQ29udGVudD86ID9ib29sZWFuLFxuICAvKipcbiAgICogVGhlIHN0eWxlIG9mIHRoZSBzY3JvbGwgaW5kaWNhdG9ycy5cbiAgICpcbiAgICogICAtIGAnZGVmYXVsdCdgICh0aGUgZGVmYXVsdCksIHNhbWUgYXMgYGJsYWNrYC5cbiAgICogICAtIGAnYmxhY2snYCwgc2Nyb2xsIGluZGljYXRvciBpcyBibGFjay4gVGhpcyBzdHlsZSBpcyBnb29kIGFnYWluc3QgYSBsaWdodCBiYWNrZ3JvdW5kLlxuICAgKiAgIC0gYCd3aGl0ZSdgLCBzY3JvbGwgaW5kaWNhdG9yIGlzIHdoaXRlLiBUaGlzIHN0eWxlIGlzIGdvb2QgYWdhaW5zdCBhIGRhcmsgYmFja2dyb3VuZC5cbiAgICpcbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgaW5kaWNhdG9yU3R5bGU/OiA/KCdkZWZhdWx0JyB8ICdibGFjaycgfCAnd2hpdGUnKSxcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIFNjcm9sbFZpZXcgd2lsbCB0cnkgdG8gbG9jayB0byBvbmx5IHZlcnRpY2FsIG9yIGhvcml6b250YWxcbiAgICogc2Nyb2xsaW5nIHdoaWxlIGRyYWdnaW5nLiAgVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGRpcmVjdGlvbmFsTG9ja0VuYWJsZWQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gZmFsc2UsIG9uY2UgdHJhY2tpbmcgc3RhcnRzLCB3b24ndCB0cnkgdG8gZHJhZyBpZiB0aGUgdG91Y2ggbW92ZXMuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGNhbkNhbmNlbENvbnRlbnRUb3VjaGVzPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHNldCwgdGhlIHNjcm9sbCB2aWV3IHdpbGwgYWRqdXN0IHRoZSBzY3JvbGwgcG9zaXRpb24gc28gdGhhdCB0aGUgZmlyc3QgY2hpbGQgdGhhdCBpc1xuICAgKiBjdXJyZW50bHkgdmlzaWJsZSBhbmQgYXQgb3IgYmV5b25kIGBtaW5JbmRleEZvclZpc2libGVgIHdpbGwgbm90IGNoYW5nZSBwb3NpdGlvbi4gVGhpcyBpc1xuICAgKiB1c2VmdWwgZm9yIGxpc3RzIHRoYXQgYXJlIGxvYWRpbmcgY29udGVudCBpbiBib3RoIGRpcmVjdGlvbnMsIGUuZy4gYSBjaGF0IHRocmVhZCwgd2hlcmUgbmV3XG4gICAqIG1lc3NhZ2VzIGNvbWluZyBpbiBtaWdodCBvdGhlcndpc2UgY2F1c2UgdGhlIHNjcm9sbCBwb3NpdGlvbiB0byBqdW1wLiBBIHZhbHVlIG9mIDAgaXMgY29tbW9uLFxuICAgKiBidXQgb3RoZXIgdmFsdWVzIHN1Y2ggYXMgMSBjYW4gYmUgdXNlZCB0byBza2lwIGxvYWRpbmcgc3Bpbm5lcnMgb3Igb3RoZXIgY29udGVudCB0aGF0IHNob3VsZFxuICAgKiBub3QgbWFpbnRhaW4gcG9zaXRpb24uXG4gICAqXG4gICAqIFRoZSBvcHRpb25hbCBgYXV0b3Njcm9sbFRvVG9wVGhyZXNob2xkYCBjYW4gYmUgdXNlZCB0byBtYWtlIHRoZSBjb250ZW50IGF1dG9tYXRpY2FsbHkgc2Nyb2xsXG4gICAqIHRvIHRoZSB0b3AgYWZ0ZXIgbWFraW5nIHRoZSBhZGp1c3RtZW50IGlmIHRoZSB1c2VyIHdhcyB3aXRoaW4gdGhlIHRocmVzaG9sZCBvZiB0aGUgdG9wIGJlZm9yZVxuICAgKiB0aGUgYWRqdXN0bWVudCB3YXMgbWFkZS4gVGhpcyBpcyBhbHNvIHVzZWZ1bCBmb3IgY2hhdC1saWtlIGFwcGxpY2F0aW9ucyB3aGVyZSB5b3Ugd2FudCB0byBzZWVcbiAgICogbmV3IG1lc3NhZ2VzIHNjcm9sbCBpbnRvIHBsYWNlLCBidXQgbm90IGlmIHRoZSB1c2VyIGhhcyBzY3JvbGxlZCB1cCBhIHdheXMgYW5kIGl0IHdvdWxkIGJlXG4gICAqIGRpc3J1cHRpdmUgdG8gc2Nyb2xsIGEgYnVuY2guXG4gICAqXG4gICAqIENhdmVhdCAxOiBSZW9yZGVyaW5nIGVsZW1lbnRzIGluIHRoZSBzY3JvbGx2aWV3IHdpdGggdGhpcyBlbmFibGVkIHdpbGwgcHJvYmFibHkgY2F1c2VcbiAgICoganVtcGluZXNzIGFuZCBqYW5rLiBJdCBjYW4gYmUgZml4ZWQsIGJ1dCB0aGVyZSBhcmUgY3VycmVudGx5IG5vIHBsYW5zIHRvIGRvIHNvLiBGb3Igbm93LFxuICAgKiBkb24ndCByZS1vcmRlciB0aGUgY29udGVudCBvZiBhbnkgU2Nyb2xsVmlld3Mgb3IgTGlzdHMgdGhhdCB1c2UgdGhpcyBmZWF0dXJlLlxuICAgKlxuICAgKiBDYXZlYXQgMjogVGhpcyBzaW1wbHkgdXNlcyBgY29udGVudE9mZnNldGAgYW5kIGBmcmFtZS5vcmlnaW5gIGluIG5hdGl2ZSBjb2RlIHRvIGNvbXB1dGVcbiAgICogdmlzaWJpbGl0eS4gT2NjbHVzaW9uLCB0cmFuc2Zvcm1zLCBhbmQgb3RoZXIgY29tcGxleGl0eSB3b24ndCBiZSB0YWtlbiBpbnRvIGFjY291bnQgYXMgdG9cbiAgICogd2hldGhlciBjb250ZW50IGlzIFwidmlzaWJsZVwiIG9yIG5vdC5cbiAgICpcbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgbWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uPzogPyRSZWFkT25seTx7fFxuICAgIG1pbkluZGV4Rm9yVmlzaWJsZTogbnVtYmVyLFxuICAgIGF1dG9zY3JvbGxUb1RvcFRocmVzaG9sZD86ID9udW1iZXIsXG4gIHx9PixcbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIGFsbG93ZWQgem9vbSBzY2FsZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgMS4wLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBtYXhpbXVtWm9vbVNjYWxlPzogP251bWJlcixcbiAgLyoqXG4gICAqIFRoZSBtaW5pbXVtIGFsbG93ZWQgem9vbSBzY2FsZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgMS4wLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBtaW5pbXVtWm9vbVNjYWxlPzogP251bWJlcixcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgU2Nyb2xsVmlldyBhbGxvd3MgdXNlIG9mIHBpbmNoIGdlc3R1cmVzIHRvIHpvb20gaW4gYW5kIG91dC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgcGluY2hHZXN0dXJlRW5hYmxlZD86ID9ib29sZWFuLFxuICAvKipcbiAgICogVGhpcyBjb250cm9scyBob3cgb2Z0ZW4gdGhlIHNjcm9sbCBldmVudCB3aWxsIGJlIGZpcmVkIHdoaWxlIHNjcm9sbGluZ1xuICAgKiAoYXMgYSB0aW1lIGludGVydmFsIGluIG1zKS4gQSBsb3dlciBudW1iZXIgeWllbGRzIGJldHRlciBhY2N1cmFjeSBmb3IgY29kZVxuICAgKiB0aGF0IGlzIHRyYWNraW5nIHRoZSBzY3JvbGwgcG9zaXRpb24sIGJ1dCBjYW4gbGVhZCB0byBzY3JvbGwgcGVyZm9ybWFuY2VcbiAgICogcHJvYmxlbXMgZHVlIHRvIHRoZSB2b2x1bWUgb2YgaW5mb3JtYXRpb24gYmVpbmcgc2VuZCBvdmVyIHRoZSBicmlkZ2UuXG4gICAqIFlvdSB3aWxsIG5vdCBub3RpY2UgYSBkaWZmZXJlbmNlIGJldHdlZW4gdmFsdWVzIHNldCBiZXR3ZWVuIDEtMTYgYXMgdGhlXG4gICAqIEpTIHJ1biBsb29wIGlzIHN5bmNlZCB0byB0aGUgc2NyZWVuIHJlZnJlc2ggcmF0ZS4gSWYgeW91IGRvIG5vdCBuZWVkIHByZWNpc2VcbiAgICogc2Nyb2xsIHBvc2l0aW9uIHRyYWNraW5nLCBzZXQgdGhpcyB2YWx1ZSBoaWdoZXIgdG8gbGltaXQgdGhlIGluZm9ybWF0aW9uXG4gICAqIGJlaW5nIHNlbnQgYWNyb3NzIHRoZSBicmlkZ2UuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHplcm8sIHdoaWNoIHJlc3VsdHMgaW5cbiAgICogdGhlIHNjcm9sbCBldmVudCBiZWluZyBzZW50IG9ubHkgb25jZSBlYWNoIHRpbWUgdGhlIHZpZXcgaXMgc2Nyb2xsZWQuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHNjcm9sbEV2ZW50VGhyb3R0bGU/OiA/bnVtYmVyLFxuICAvKipcbiAgICogVGhlIGFtb3VudCBieSB3aGljaCB0aGUgc2Nyb2xsIHZpZXcgaW5kaWNhdG9ycyBhcmUgaW5zZXQgZnJvbSB0aGUgZWRnZXNcbiAgICogb2YgdGhlIHNjcm9sbCB2aWV3LiBUaGlzIHNob3VsZCBub3JtYWxseSBiZSBzZXQgdG8gdGhlIHNhbWUgdmFsdWUgYXNcbiAgICogdGhlIGBjb250ZW50SW5zZXRgLiBEZWZhdWx0cyB0byBgezAsIDAsIDAsIDB9YC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgc2Nyb2xsSW5kaWNhdG9ySW5zZXRzPzogP0VkZ2VJbnNldHNQcm9wLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgc2Nyb2xscyB0byB0b3Agd2hlbiB0aGUgc3RhdHVzIGJhciBpcyB0YXBwZWQuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHNjcm9sbHNUb1RvcD86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBzaG93cyBhIGhvcml6b250YWwgc2Nyb2xsIGluZGljYXRvci5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICovXG4gIHNob3dzSG9yaXpvbnRhbFNjcm9sbEluZGljYXRvcj86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiBgc25hcFRvSW50ZXJ2YWxgIGlzIHNldCwgYHNuYXBUb0FsaWdubWVudGAgd2lsbCBkZWZpbmUgdGhlIHJlbGF0aW9uc2hpcFxuICAgKiBvZiB0aGUgc25hcHBpbmcgdG8gdGhlIHNjcm9sbCB2aWV3LlxuICAgKlxuICAgKiAgIC0gYCdzdGFydCdgICh0aGUgZGVmYXVsdCkgd2lsbCBhbGlnbiB0aGUgc25hcCBhdCB0aGUgbGVmdCAoaG9yaXpvbnRhbCkgb3IgdG9wICh2ZXJ0aWNhbClcbiAgICogICAtIGAnY2VudGVyJ2Agd2lsbCBhbGlnbiB0aGUgc25hcCBpbiB0aGUgY2VudGVyXG4gICAqICAgLSBgJ2VuZCdgIHdpbGwgYWxpZ24gdGhlIHNuYXAgYXQgdGhlIHJpZ2h0IChob3Jpem9udGFsKSBvciBib3R0b20gKHZlcnRpY2FsKVxuICAgKlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBzbmFwVG9BbGlnbm1lbnQ/OiA/KCdzdGFydCcgfCAnY2VudGVyJyB8ICdlbmQnKSxcbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50IHNjYWxlIG9mIHRoZSBzY3JvbGwgdmlldyBjb250ZW50LiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyAxLjAuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHpvb21TY2FsZT86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBUaGlzIHByb3BlcnR5IHNwZWNpZmllcyBob3cgdGhlIHNhZmUgYXJlYSBpbnNldHMgYXJlIHVzZWQgdG8gbW9kaWZ5IHRoZVxuICAgKiBjb250ZW50IGFyZWEgb2YgdGhlIHNjcm9sbCB2aWV3LiBUaGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGlzIHByb3BlcnR5IGlzXG4gICAqIFwibmV2ZXJcIi4gQXZhaWxhYmxlIG9uIGlPUyAxMSBhbmQgbGF0ZXIuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGNvbnRlbnRJbnNldEFkanVzdG1lbnRCZWhhdmlvcj86ID8oXG4gICAgfCAnYXV0b21hdGljJ1xuICAgIHwgJ3Njcm9sbGFibGVBeGVzJ1xuICAgIHwgJ25ldmVyJ1xuICAgIHwgJ2Fsd2F5cydcbiAgKSxcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgU2Nyb2xsVmlldyB3aWxsIGVtaXQgdXBkYXRlQ2hpbGRGcmFtZXMgZGF0YSBpbiBzY3JvbGwgZXZlbnRzLFxuICAgKiBvdGhlcndpc2Ugd2lsbCBub3QgY29tcHV0ZSBvciBlbWl0IGNoaWxkIGZyYW1lIGRhdGEuICBUaGlzIG9ubHkgZXhpc3RzXG4gICAqIHRvIHN1cHBvcnQgbGVnYWN5IGlzc3VlcywgYG9uTGF5b3V0YCBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkIHRvIHJldHJpZXZlXG4gICAqIGZyYW1lIGRhdGEuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBERVBSRUNBVEVEX3NlbmRVcGRhdGVkQ2hpbGRGcmFtZXM/OiA/Ym9vbGVhbixcbnx9PjtcblxudHlwZSBBbmRyb2lkUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgLyoqXG4gICAqIEVuYWJsZXMgbmVzdGVkIHNjcm9sbGluZyBmb3IgQW5kcm9pZCBBUEkgbGV2ZWwgMjErLlxuICAgKiBOZXN0ZWQgc2Nyb2xsaW5nIGlzIHN1cHBvcnRlZCBieSBkZWZhdWx0IG9uIGlPU1xuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgbmVzdGVkU2Nyb2xsRW5hYmxlZD86ID9ib29sZWFuLFxuICAvKipcbiAgICogU29tZXRpbWVzIGEgc2Nyb2xsdmlldyB0YWtlcyB1cCBtb3JlIHNwYWNlIHRoYW4gaXRzIGNvbnRlbnQgZmlsbHMuIFdoZW4gdGhpcyBpc1xuICAgKiB0aGUgY2FzZSwgdGhpcyBwcm9wIHdpbGwgZmlsbCB0aGUgcmVzdCBvZiB0aGUgc2Nyb2xsdmlldyB3aXRoIGEgY29sb3IgdG8gYXZvaWQgc2V0dGluZ1xuICAgKiBhIGJhY2tncm91bmQgYW5kIGNyZWF0aW5nIHVubmVjZXNzYXJ5IG92ZXJkcmF3LiBUaGlzIGlzIGFuIGFkdmFuY2VkIG9wdGltaXphdGlvblxuICAgKiB0aGF0IGlzIG5vdCBuZWVkZWQgaW4gdGhlIGdlbmVyYWwgY2FzZS5cbiAgICogQHBsYXRmb3JtIGFuZHJvaWRcbiAgICovXG4gIGVuZEZpbGxDb2xvcj86ID9Db2xvclZhbHVlLFxuICAvKipcbiAgICogVGFnIHVzZWQgdG8gbG9nIHNjcm9sbCBwZXJmb3JtYW5jZSBvbiB0aGlzIHNjcm9sbCB2aWV3LiBXaWxsIGZvcmNlXG4gICAqIG1vbWVudHVtIGV2ZW50cyB0byBiZSB0dXJuZWQgb24gKHNlZSBzZW5kTW9tZW50dW1FdmVudHMpLiBUaGlzIGRvZXNuJ3QgZG9cbiAgICogYW55dGhpbmcgb3V0IG9mIHRoZSBib3ggYW5kIHlvdSBuZWVkIHRvIGltcGxlbWVudCBhIGN1c3RvbSBuYXRpdmVcbiAgICogRnBzTGlzdGVuZXIgZm9yIGl0IHRvIGJlIHVzZWZ1bC5cbiAgICogQHBsYXRmb3JtIGFuZHJvaWRcbiAgICovXG4gIHNjcm9sbFBlcmZUYWc/OiA/c3RyaW5nLFxuICAvKipcbiAgICogVXNlZCB0byBvdmVycmlkZSBkZWZhdWx0IHZhbHVlIG9mIG92ZXJTY3JvbGwgbW9kZS5cbiAgICpcbiAgICogUG9zc2libGUgdmFsdWVzOlxuICAgKlxuICAgKiAgLSBgJ2F1dG8nYCAtIERlZmF1bHQgdmFsdWUsIGFsbG93IGEgdXNlciB0byBvdmVyLXNjcm9sbFxuICAgKiAgICB0aGlzIHZpZXcgb25seSBpZiB0aGUgY29udGVudCBpcyBsYXJnZSBlbm91Z2ggdG8gbWVhbmluZ2Z1bGx5IHNjcm9sbC5cbiAgICogIC0gYCdhbHdheXMnYCAtIEFsd2F5cyBhbGxvdyBhIHVzZXIgdG8gb3Zlci1zY3JvbGwgdGhpcyB2aWV3LlxuICAgKiAgLSBgJ25ldmVyJ2AgLSBOZXZlciBhbGxvdyBhIHVzZXIgdG8gb3Zlci1zY3JvbGwgdGhpcyB2aWV3LlxuICAgKlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgb3ZlclNjcm9sbE1vZGU/OiA/KCdhdXRvJyB8ICdhbHdheXMnIHwgJ25ldmVyJyksXG58fT47XG5cbnR5cGUgVlJQcm9wcyA9ICRSZWFkT25seTx7fFxuICAvKipcbiAgICogT3B0aW9uYWxseSBhbiBpbWFnZSBjYW4gYmUgdXNlZCBmb3IgdGhlIHNjcm9sbCBiYXIgdGh1bWIuIFRoaXMgd2lsbFxuICAgKiBvdmVycmlkZSB0aGUgY29sb3IuIFdoaWxlIHRoZSBpbWFnZSBpcyBsb2FkaW5nIG9yIHRoZSBpbWFnZSBmYWlscyB0b1xuICAgKiBsb2FkIHRoZSBjb2xvciB3aWxsIGJlIHVzZWQgaW5zdGVhZC4gVXNlIGFuIGFscGhhIG9mIDAgaW4gdGhlIGNvbG9yXG4gICAqIHRvIGF2b2lkIHNlZWluZyBpdCB3aGlsZSB0aGUgaW1hZ2UgaXMgbG9hZGluZy5cbiAgICpcbiAgICogLSBgdXJpYCAtIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgcmVzb3VyY2UgaWRlbnRpZmllciBmb3IgdGhlIGltYWdlLCB3aGljaFxuICAgKiBzaG91bGQgYmUgZWl0aGVyIGEgbG9jYWwgZmlsZSBwYXRoIG9yIHRoZSBuYW1lIG9mIGEgc3RhdGljIGltYWdlIHJlc291cmNlXG4gICAqIC0gYG51bWJlcmAgLSBPcGFxdWUgdHlwZSByZXR1cm5lZCBieSBzb21ldGhpbmcgbGlrZVxuICAgKiBgaW1wb3J0IElNQUdFIGZyb20gJy4vaW1hZ2UuanBnJ2AuXG4gICAqIEBwbGF0Zm9ybSB2clxuICAgKi9cbiAgc2Nyb2xsQmFyVGh1bWJJbWFnZT86ID8oJFJlYWRPbmx5PHt8fH0+IHwgbnVtYmVyKSwgLy8gT3BhcXVlIHR5cGUgcmV0dXJuZWQgYnkgaW1wb3J0IElNQUdFIGZyb20gJy4vaW1hZ2UuanBnJ1xufH0+O1xuXG5leHBvcnQgdHlwZSBQcm9wcyA9ICRSZWFkT25seTx7fFxuICAuLi5WaWV3UHJvcHMsXG4gIC4uLlRvdWNoYWJsZVByb3BzLFxuICAuLi5JT1NQcm9wcyxcbiAgLi4uQW5kcm9pZFByb3BzLFxuICAuLi5WUlByb3BzLFxuXG4gIC8qKlxuICAgKiBUaGVzZSBzdHlsZXMgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBzY3JvbGwgdmlldyBjb250ZW50IGNvbnRhaW5lciB3aGljaFxuICAgKiB3cmFwcyBhbGwgb2YgdGhlIGNoaWxkIHZpZXdzLiBFeGFtcGxlOlxuICAgKlxuICAgKiBgYGBcbiAgICogcmV0dXJuIChcbiAgICogICA8U2Nyb2xsVmlldyBjb250ZW50Q29udGFpbmVyU3R5bGU9e3N0eWxlcy5jb250ZW50Q29udGFpbmVyfT5cbiAgICogICA8L1Njcm9sbFZpZXc+XG4gICAqICk7XG4gICAqIC4uLlxuICAgKiBjb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gICAqICAgY29udGVudENvbnRhaW5lcjoge1xuICAgKiAgICAgcGFkZGluZ1ZlcnRpY2FsOiAyMFxuICAgKiAgIH1cbiAgICogfSk7XG4gICAqIGBgYFxuICAgKi9cbiAgY29udGVudENvbnRhaW5lclN0eWxlPzogP1ZpZXdTdHlsZVByb3AsXG4gIC8qKlxuICAgKiBBIGZsb2F0aW5nLXBvaW50IG51bWJlciB0aGF0IGRldGVybWluZXMgaG93IHF1aWNrbHkgdGhlIHNjcm9sbCB2aWV3XG4gICAqIGRlY2VsZXJhdGVzIGFmdGVyIHRoZSB1c2VyIGxpZnRzIHRoZWlyIGZpbmdlci4gWW91IG1heSBhbHNvIHVzZSBzdHJpbmdcbiAgICogc2hvcnRjdXRzIGBcIm5vcm1hbFwiYCBhbmQgYFwiZmFzdFwiYCB3aGljaCBtYXRjaCB0aGUgdW5kZXJseWluZyBpT1Mgc2V0dGluZ3NcbiAgICogZm9yIGBVSVNjcm9sbFZpZXdEZWNlbGVyYXRpb25SYXRlTm9ybWFsYCBhbmRcbiAgICogYFVJU2Nyb2xsVmlld0RlY2VsZXJhdGlvblJhdGVGYXN0YCByZXNwZWN0aXZlbHkuXG4gICAqXG4gICAqICAgLSBgJ25vcm1hbCdgOiAwLjk5OCBvbiBpT1MsIDAuOTg1IG9uIEFuZHJvaWQgKHRoZSBkZWZhdWx0KVxuICAgKiAgIC0gYCdmYXN0J2A6IDAuOTkgb24gaU9TLCAwLjkgb24gQW5kcm9pZFxuICAgKi9cbiAgZGVjZWxlcmF0aW9uUmF0ZT86ID8oJ2Zhc3QnIHwgJ25vcm1hbCcgfCBudW1iZXIpLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcncyBjaGlsZHJlbiBhcmUgYXJyYW5nZWQgaG9yaXpvbnRhbGx5IGluIGEgcm93XG4gICAqIGluc3RlYWQgb2YgdmVydGljYWxseSBpbiBhIGNvbHVtbi4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqL1xuICBob3Jpem9udGFsPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBJZiBzdGlja3kgaGVhZGVycyBzaG91bGQgc3RpY2sgYXQgdGhlIGJvdHRvbSBpbnN0ZWFkIG9mIHRoZSB0b3Agb2YgdGhlXG4gICAqIFNjcm9sbFZpZXcuIFRoaXMgaXMgdXN1YWxseSB1c2VkIHdpdGggaW52ZXJ0ZWQgU2Nyb2xsVmlld3MuXG4gICAqL1xuICBpbnZlcnRTdGlja3lIZWFkZXJzPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGtleWJvYXJkIGdldHMgZGlzbWlzc2VkIGluIHJlc3BvbnNlIHRvIGEgZHJhZy5cbiAgICpcbiAgICogKkNyb3NzIHBsYXRmb3JtKlxuICAgKlxuICAgKiAgIC0gYCdub25lJ2AgKHRoZSBkZWZhdWx0KSwgZHJhZ3MgZG8gbm90IGRpc21pc3MgdGhlIGtleWJvYXJkLlxuICAgKiAgIC0gYCdvbi1kcmFnJ2AsIHRoZSBrZXlib2FyZCBpcyBkaXNtaXNzZWQgd2hlbiBhIGRyYWcgYmVnaW5zLlxuICAgKlxuICAgKiAqaU9TIE9ubHkqXG4gICAqXG4gICAqICAgLSBgJ2ludGVyYWN0aXZlJ2AsIHRoZSBrZXlib2FyZCBpcyBkaXNtaXNzZWQgaW50ZXJhY3RpdmVseSB3aXRoIHRoZSBkcmFnIGFuZCBtb3ZlcyBpblxuICAgKiAgICAgc3luY2hyb255IHdpdGggdGhlIHRvdWNoOyBkcmFnZ2luZyB1cHdhcmRzIGNhbmNlbHMgdGhlIGRpc21pc3NhbC5cbiAgICogICAgIE9uIGFuZHJvaWQgdGhpcyBpcyBub3Qgc3VwcG9ydGVkIGFuZCBpdCB3aWxsIGhhdmUgdGhlIHNhbWUgYmVoYXZpb3IgYXMgJ25vbmUnLlxuICAgKi9cbiAga2V5Ym9hcmREaXNtaXNzTW9kZT86ID8oXG4gICAgfCAnbm9uZScgLy8gZGVmYXVsdFxuICAgIHwgJ29uLWRyYWcnIC8vIGNyb3NzLXBsYXRmb3JtXG4gICAgfCAnaW50ZXJhY3RpdmUnXG4gICksIC8vIGlvcyBvbmx5XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZW4gdGhlIGtleWJvYXJkIHNob3VsZCBzdGF5IHZpc2libGUgYWZ0ZXIgYSB0YXAuXG4gICAqXG4gICAqICAgLSBgJ25ldmVyJ2AgKHRoZSBkZWZhdWx0KSwgdGFwcGluZyBvdXRzaWRlIG9mIHRoZSBmb2N1c2VkIHRleHQgaW5wdXQgd2hlbiB0aGUga2V5Ym9hcmRcbiAgICogICAgIGlzIHVwIGRpc21pc3NlcyB0aGUga2V5Ym9hcmQuIFdoZW4gdGhpcyBoYXBwZW5zLCBjaGlsZHJlbiB3b24ndCByZWNlaXZlIHRoZSB0YXAuXG4gICAqICAgLSBgJ2Fsd2F5cydgLCB0aGUga2V5Ym9hcmQgd2lsbCBub3QgZGlzbWlzcyBhdXRvbWF0aWNhbGx5LCBhbmQgdGhlIHNjcm9sbCB2aWV3IHdpbGwgbm90XG4gICAqICAgICBjYXRjaCB0YXBzLCBidXQgY2hpbGRyZW4gb2YgdGhlIHNjcm9sbCB2aWV3IGNhbiBjYXRjaCB0YXBzLlxuICAgKiAgIC0gYCdoYW5kbGVkJ2AsIHRoZSBrZXlib2FyZCB3aWxsIG5vdCBkaXNtaXNzIGF1dG9tYXRpY2FsbHkgd2hlbiB0aGUgdGFwIHdhcyBoYW5kbGVkIGJ5XG4gICAqICAgICBhIGNoaWxkcmVuLCAob3IgY2FwdHVyZWQgYnkgYW4gYW5jZXN0b3IpLlxuICAgKiAgIC0gYGZhbHNlYCwgZGVwcmVjYXRlZCwgdXNlICduZXZlcicgaW5zdGVhZFxuICAgKiAgIC0gYHRydWVgLCBkZXByZWNhdGVkLCB1c2UgJ2Fsd2F5cycgaW5zdGVhZFxuICAgKi9cbiAgLy8gJEZsb3dGaXhNZShzaXRlPXJlYWN0X25hdGl2ZV9mYikgSXNzdWVzIGZvdW5kIHdoZW4gdHlwaW5nIFNjcm9sbFZpZXdcbiAga2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcz86ID8oJ2Fsd2F5cycgfCAnbmV2ZXInIHwgJ2hhbmRsZWQnIHwgZmFsc2UgfCB0cnVlKSxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSBtb21lbnR1bSBzY3JvbGwgc3RhcnRzIChzY3JvbGwgd2hpY2ggb2NjdXJzIGFzIHRoZSBTY3JvbGxWaWV3IGdsaWRlcyB0byBhIHN0b3ApLlxuICAgKi9cbiAgb25Nb21lbnR1bVNjcm9sbEJlZ2luPzogP0Z1bmN0aW9uLFxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIG1vbWVudHVtIHNjcm9sbCBlbmRzIChzY3JvbGwgd2hpY2ggb2NjdXJzIGFzIHRoZSBTY3JvbGxWaWV3IGdsaWRlcyB0byBhIHN0b3ApLlxuICAgKi9cbiAgb25Nb21lbnR1bVNjcm9sbEVuZD86ID9GdW5jdGlvbixcblxuICAvKipcbiAgICogRmlyZXMgYXQgbW9zdCBvbmNlIHBlciBmcmFtZSBkdXJpbmcgc2Nyb2xsaW5nLiBUaGUgZnJlcXVlbmN5IG9mIHRoZVxuICAgKiBldmVudHMgY2FuIGJlIGNvbnRyb2xsZWQgdXNpbmcgdGhlIGBzY3JvbGxFdmVudFRocm90dGxlYCBwcm9wLlxuICAgKi9cbiAgb25TY3JvbGw/OiA/RnVuY3Rpb24sXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgdXNlciBiZWdpbnMgdG8gZHJhZyB0aGUgc2Nyb2xsIHZpZXcuXG4gICAqL1xuICBvblNjcm9sbEJlZ2luRHJhZz86ID9GdW5jdGlvbixcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSB1c2VyIHN0b3BzIGRyYWdnaW5nIHRoZSBzY3JvbGwgdmlldyBhbmQgaXQgZWl0aGVyIHN0b3BzXG4gICAqIG9yIGJlZ2lucyB0byBnbGlkZS5cbiAgICovXG4gIG9uU2Nyb2xsRW5kRHJhZz86ID9GdW5jdGlvbixcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHNjcm9sbGFibGUgY29udGVudCB2aWV3IG9mIHRoZSBTY3JvbGxWaWV3IGNoYW5nZXMuXG4gICAqXG4gICAqIEhhbmRsZXIgZnVuY3Rpb24gaXMgcGFzc2VkIHRoZSBjb250ZW50IHdpZHRoIGFuZCBjb250ZW50IGhlaWdodCBhcyBwYXJhbWV0ZXJzOlxuICAgKiBgKGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodClgXG4gICAqXG4gICAqIEl0J3MgaW1wbGVtZW50ZWQgdXNpbmcgb25MYXlvdXQgaGFuZGxlciBhdHRhY2hlZCB0byB0aGUgY29udGVudCBjb250YWluZXJcbiAgICogd2hpY2ggdGhpcyBTY3JvbGxWaWV3IHJlbmRlcnMuXG4gICAqL1xuICBvbkNvbnRlbnRTaXplQ2hhbmdlPzogP0Z1bmN0aW9uLFxuICBvbktleWJvYXJkRGlkU2hvdz86IChldmVudDogUHJlc3NFdmVudCkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIHNjcm9sbCB2aWV3IHN0b3BzIG9uIG11bHRpcGxlcyBvZiB0aGUgc2Nyb2xsIHZpZXcncyBzaXplXG4gICAqIHdoZW4gc2Nyb2xsaW5nLiBUaGlzIGNhbiBiZSB1c2VkIGZvciBob3Jpem9udGFsIHBhZ2luYXRpb24uIFRoZSBkZWZhdWx0XG4gICAqIHZhbHVlIGlzIGZhbHNlLlxuICAgKlxuICAgKiBOb3RlOiBWZXJ0aWNhbCBwYWdpbmF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgb24gQW5kcm9pZC5cbiAgICovXG4gIHBhZ2luZ0VuYWJsZWQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gZmFsc2UsIHRoZSB2aWV3IGNhbm5vdCBiZSBzY3JvbGxlZCB2aWEgdG91Y2ggaW50ZXJhY3Rpb24uXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqXG4gICAqIE5vdGUgdGhhdCB0aGUgdmlldyBjYW4gYWx3YXlzIGJlIHNjcm9sbGVkIGJ5IGNhbGxpbmcgYHNjcm9sbFRvYC5cbiAgICovXG4gIHNjcm9sbEVuYWJsZWQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgc2hvd3MgYSB2ZXJ0aWNhbCBzY3JvbGwgaW5kaWNhdG9yLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKi9cbiAgc2hvd3NWZXJ0aWNhbFNjcm9sbEluZGljYXRvcj86ID9ib29sZWFuLFxuICAvKipcbiAgICogQW4gYXJyYXkgb2YgY2hpbGQgaW5kaWNlcyBkZXRlcm1pbmluZyB3aGljaCBjaGlsZHJlbiBnZXQgZG9ja2VkIHRvIHRoZVxuICAgKiB0b3Agb2YgdGhlIHNjcmVlbiB3aGVuIHNjcm9sbGluZy4gRm9yIGV4YW1wbGUsIHBhc3NpbmdcbiAgICogYHN0aWNreUhlYWRlckluZGljZXM9e1swXX1gIHdpbGwgY2F1c2UgdGhlIGZpcnN0IGNoaWxkIHRvIGJlIGZpeGVkIHRvIHRoZVxuICAgKiB0b3Agb2YgdGhlIHNjcm9sbCB2aWV3LiBUaGlzIHByb3BlcnR5IGlzIG5vdCBzdXBwb3J0ZWQgaW4gY29uanVuY3Rpb25cbiAgICogd2l0aCBgaG9yaXpvbnRhbD17dHJ1ZX1gLlxuICAgKi9cbiAgc3RpY2t5SGVhZGVySW5kaWNlcz86ID8kUmVhZE9ubHlBcnJheTxudW1iZXI+LFxuICAvKipcbiAgICogV2hlbiBzZXQsIGNhdXNlcyB0aGUgc2Nyb2xsIHZpZXcgdG8gc3RvcCBhdCBtdWx0aXBsZXMgb2YgdGhlIHZhbHVlIG9mXG4gICAqIGBzbmFwVG9JbnRlcnZhbGAuIFRoaXMgY2FuIGJlIHVzZWQgZm9yIHBhZ2luYXRpbmcgdGhyb3VnaCBjaGlsZHJlblxuICAgKiB0aGF0IGhhdmUgbGVuZ3RocyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3LiBUeXBpY2FsbHkgdXNlZCBpblxuICAgKiBjb21iaW5hdGlvbiB3aXRoIGBzbmFwVG9BbGlnbm1lbnRgIGFuZCBgZGVjZWxlcmF0aW9uUmF0ZT1cImZhc3RcImAuXG4gICAqXG4gICAqIE92ZXJyaWRlcyBsZXNzIGNvbmZpZ3VyYWJsZSBgcGFnaW5nRW5hYmxlZGAgcHJvcC5cbiAgICovXG4gIHNuYXBUb0ludGVydmFsPzogP251bWJlcixcbiAgLyoqXG4gICAqIFdoZW4gc2V0LCBjYXVzZXMgdGhlIHNjcm9sbCB2aWV3IHRvIHN0b3AgYXQgdGhlIGRlZmluZWQgb2Zmc2V0cy5cbiAgICogVGhpcyBjYW4gYmUgdXNlZCBmb3IgcGFnaW5hdGluZyB0aHJvdWdoIHZhcmlvdXNseSBzaXplZCBjaGlsZHJlblxuICAgKiB0aGF0IGhhdmUgbGVuZ3RocyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3LiBUeXBpY2FsbHkgdXNlZCBpblxuICAgKiBjb21iaW5hdGlvbiB3aXRoIGBkZWNlbGVyYXRpb25SYXRlPVwiZmFzdFwiYC5cbiAgICpcbiAgICogT3ZlcnJpZGVzIGxlc3MgY29uZmlndXJhYmxlIGBwYWdpbmdFbmFibGVkYCBhbmQgYHNuYXBUb0ludGVydmFsYCBwcm9wcy5cbiAgICovXG4gIHNuYXBUb09mZnNldHM/OiA/JFJlYWRPbmx5QXJyYXk8bnVtYmVyPixcbiAgLyoqXG4gICAqIEV4cGVyaW1lbnRhbDogV2hlbiB0cnVlLCBvZmZzY3JlZW4gY2hpbGQgdmlld3MgKHdob3NlIGBvdmVyZmxvd2AgdmFsdWUgaXNcbiAgICogYGhpZGRlbmApIGFyZSByZW1vdmVkIGZyb20gdGhlaXIgbmF0aXZlIGJhY2tpbmcgc3VwZXJ2aWV3IHdoZW4gb2Zmc2NyZWVuLlxuICAgKiBUaGlzIGNhbiBpbXByb3ZlIHNjcm9sbGluZyBwZXJmb3JtYW5jZSBvbiBsb25nIGxpc3RzLiBUaGUgZGVmYXVsdCB2YWx1ZSBpc1xuICAgKiB0cnVlLlxuICAgKi9cbiAgcmVtb3ZlQ2xpcHBlZFN1YnZpZXdzPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBBIFJlZnJlc2hDb250cm9sIGNvbXBvbmVudCwgdXNlZCB0byBwcm92aWRlIHB1bGwtdG8tcmVmcmVzaFxuICAgKiBmdW5jdGlvbmFsaXR5IGZvciB0aGUgU2Nyb2xsVmlldy4gT25seSB3b3JrcyBmb3IgdmVydGljYWwgU2Nyb2xsVmlld3NcbiAgICogKGBob3Jpem9udGFsYCBwcm9wIG11c3QgYmUgYGZhbHNlYCkuXG4gICAqXG4gICAqIFNlZSBbUmVmcmVzaENvbnRyb2xdKGRvY3MvcmVmcmVzaGNvbnRyb2wuaHRtbCkuXG4gICAqL1xuICByZWZyZXNoQ29udHJvbD86ID9SZWFjdC5FbGVtZW50PGFueT4sXG4gIHN0eWxlPzogP1ZpZXdTdHlsZVByb3AsXG4gIGNoaWxkcmVuPzogUmVhY3QuTm9kZSxcbnx9PjtcblxuLyoqXG4gKiBDb21wb25lbnQgdGhhdCB3cmFwcyBwbGF0Zm9ybSBTY3JvbGxWaWV3IHdoaWxlIHByb3ZpZGluZ1xuICogaW50ZWdyYXRpb24gd2l0aCB0b3VjaCBsb2NraW5nIFwicmVzcG9uZGVyXCIgc3lzdGVtLlxuICpcbiAqIEtlZXAgaW4gbWluZCB0aGF0IFNjcm9sbFZpZXdzIG11c3QgaGF2ZSBhIGJvdW5kZWQgaGVpZ2h0IGluIG9yZGVyIHRvIHdvcmssXG4gKiBzaW5jZSB0aGV5IGNvbnRhaW4gdW5ib3VuZGVkLWhlaWdodCBjaGlsZHJlbiBpbnRvIGEgYm91bmRlZCBjb250YWluZXIgKHZpYVxuICogYSBzY3JvbGwgaW50ZXJhY3Rpb24pLiBJbiBvcmRlciB0byBib3VuZCB0aGUgaGVpZ2h0IG9mIGEgU2Nyb2xsVmlldywgZWl0aGVyXG4gKiBzZXQgdGhlIGhlaWdodCBvZiB0aGUgdmlldyBkaXJlY3RseSAoZGlzY291cmFnZWQpIG9yIG1ha2Ugc3VyZSBhbGwgcGFyZW50XG4gKiB2aWV3cyBoYXZlIGJvdW5kZWQgaGVpZ2h0LiBGb3JnZXR0aW5nIHRvIHRyYW5zZmVyIGB7ZmxleDogMX1gIGRvd24gdGhlXG4gKiB2aWV3IHN0YWNrIGNhbiBsZWFkIHRvIGVycm9ycyBoZXJlLCB3aGljaCB0aGUgZWxlbWVudCBpbnNwZWN0b3IgbWFrZXNcbiAqIGVhc3kgdG8gZGVidWcuXG4gKlxuICogRG9lc24ndCB5ZXQgc3VwcG9ydCBvdGhlciBjb250YWluZWQgcmVzcG9uZGVycyBmcm9tIGJsb2NraW5nIHRoaXMgc2Nyb2xsXG4gKiB2aWV3IGZyb20gYmVjb21pbmcgdGhlIHJlc3BvbmRlci5cbiAqXG4gKlxuICogYDxTY3JvbGxWaWV3PmAgdnMgW2A8RmxhdExpc3Q+YF0oL3JlYWN0LW5hdGl2ZS9kb2NzL2ZsYXRsaXN0Lmh0bWwpIC0gd2hpY2ggb25lIHRvIHVzZT9cbiAqXG4gKiBgU2Nyb2xsVmlld2Agc2ltcGx5IHJlbmRlcnMgYWxsIGl0cyByZWFjdCBjaGlsZCBjb21wb25lbnRzIGF0IG9uY2UuIFRoYXRcbiAqIG1ha2VzIGl0IHZlcnkgZWFzeSB0byB1bmRlcnN0YW5kIGFuZCB1c2UuXG4gKlxuICogT24gdGhlIG90aGVyIGhhbmQsIHRoaXMgaGFzIGEgcGVyZm9ybWFuY2UgZG93bnNpZGUuIEltYWdpbmUgeW91IGhhdmUgYSB2ZXJ5XG4gKiBsb25nIGxpc3Qgb2YgaXRlbXMgeW91IHdhbnQgdG8gZGlzcGxheSwgbWF5YmUgc2V2ZXJhbCBzY3JlZW5zIHdvcnRoIG9mXG4gKiBjb250ZW50LiBDcmVhdGluZyBKUyBjb21wb25lbnRzIGFuZCBuYXRpdmUgdmlld3MgZm9yIGV2ZXJ5dGhpbmcgYWxsIGF0IG9uY2UsXG4gKiBtdWNoIG9mIHdoaWNoIG1heSBub3QgZXZlbiBiZSBzaG93biwgd2lsbCBjb250cmlidXRlIHRvIHNsb3cgcmVuZGVyaW5nIGFuZFxuICogaW5jcmVhc2VkIG1lbW9yeSB1c2FnZS5cbiAqXG4gKiBUaGlzIGlzIHdoZXJlIGBGbGF0TGlzdGAgY29tZXMgaW50byBwbGF5LiBgRmxhdExpc3RgIHJlbmRlcnMgaXRlbXMgbGF6aWx5LFxuICoganVzdCB3aGVuIHRoZXkgYXJlIGFib3V0IHRvIGFwcGVhciwgYW5kIHJlbW92ZXMgaXRlbXMgdGhhdCBzY3JvbGwgd2F5IG9mZlxuICogc2NyZWVuIHRvIHNhdmUgbWVtb3J5IGFuZCBwcm9jZXNzaW5nIHRpbWUuXG4gKlxuICogYEZsYXRMaXN0YCBpcyBhbHNvIGhhbmR5IGlmIHlvdSB3YW50IHRvIHJlbmRlciBzZXBhcmF0b3JzIGJldHdlZW4geW91ciBpdGVtcyxcbiAqIG11bHRpcGxlIGNvbHVtbnMsIGluZmluaXRlIHNjcm9sbCBsb2FkaW5nLCBvciBhbnkgbnVtYmVyIG9mIG90aGVyIGZlYXR1cmVzIGl0XG4gKiBzdXBwb3J0cyBvdXQgb2YgdGhlIGJveC5cbiAqL1xuY29uc3QgU2Nyb2xsVmlldyA9IGNyZWF0ZVJlYWN0Q2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ1Njcm9sbFZpZXcnLFxuICBtaXhpbnM6IFtTY3JvbGxSZXNwb25kZXIuTWl4aW5dLFxuXG4gIF9zY3JvbGxBbmltYXRlZFZhbHVlOiAobmV3IEFuaW1hdGVkSW1wbGVtZW50YXRpb24uVmFsdWUoXG4gICAgMCxcbiAgKTogQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbi5WYWx1ZSksXG4gIF9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudDogKG51bGw6ID97ZGV0YWNoOiAoKSA9PiB2b2lkfSksXG4gIF9zdGlja3lIZWFkZXJSZWZzOiAobmV3IE1hcCgpOiBNYXA8bnVtYmVyLCBTY3JvbGxWaWV3U3RpY2t5SGVhZGVyPiksXG4gIF9oZWFkZXJMYXlvdXRZczogKG5ldyBNYXAoKTogTWFwPHN0cmluZywgbnVtYmVyPiksXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnRoaXMuc2Nyb2xsUmVzcG9uZGVyTWl4aW5HZXRJbml0aWFsU3RhdGUoKSxcbiAgICAgIGxheW91dEhlaWdodDogbnVsbCxcbiAgICB9O1xuICB9LFxuXG4gIFVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWUgPSBuZXcgQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbi5WYWx1ZShcbiAgICAgIHRoaXMucHJvcHMuY29udGVudE9mZnNldCA/IHRoaXMucHJvcHMuY29udGVudE9mZnNldC55IDogMCxcbiAgICApO1xuICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWUuc2V0T2Zmc2V0KFxuICAgICAgdGhpcy5wcm9wcy5jb250ZW50SW5zZXQgPyB0aGlzLnByb3BzLmNvbnRlbnRJbnNldC50b3AgOiAwLFxuICAgICk7XG4gICAgdGhpcy5fc3RpY2t5SGVhZGVyUmVmcyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLl9oZWFkZXJMYXlvdXRZcyA9IG5ldyBNYXAoKTtcbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fdXBkYXRlQW5pbWF0ZWROb2RlQXR0YWNobWVudCgpO1xuICB9LFxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fdXBkYXRlQW5pbWF0ZWROb2RlQXR0YWNobWVudCgpO1xuICB9LFxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQpIHtcbiAgICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50LmRldGFjaCgpO1xuICAgIH1cbiAgfSxcblxuICBzZXROYXRpdmVQcm9wczogZnVuY3Rpb24ocHJvcHM6IE9iamVjdCkge1xuICAgIHRoaXMuX3Njcm9sbFZpZXdSZWYgJiYgdGhpcy5fc2Nyb2xsVmlld1JlZi5zZXROYXRpdmVQcm9wcyhwcm9wcyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhlIHVuZGVybHlpbmcgc2Nyb2xsIHJlc3BvbmRlciwgd2hpY2ggc3VwcG9ydHNcbiAgICogb3BlcmF0aW9ucyBsaWtlIGBzY3JvbGxUb2AuIEFsbCBTY3JvbGxWaWV3LWxpa2UgY29tcG9uZW50cyBzaG91bGRcbiAgICogaW1wbGVtZW50IHRoaXMgbWV0aG9kIHNvIHRoYXQgdGhleSBjYW4gYmUgY29tcG9zZWQgd2hpbGUgcHJvdmlkaW5nIGFjY2Vzc1xuICAgKiB0byB0aGUgdW5kZXJseWluZyBzY3JvbGwgcmVzcG9uZGVyJ3MgbWV0aG9kcy5cbiAgICovXG4gIGdldFNjcm9sbFJlc3BvbmRlcjogZnVuY3Rpb24oKTogU2Nyb2xsVmlldyB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgZ2V0U2Nyb2xsYWJsZU5vZGU6IGZ1bmN0aW9uKCk6IGFueSB7XG4gICAgcmV0dXJuIFJlYWN0TmF0aXZlLmZpbmROb2RlSGFuZGxlKHRoaXMuX3Njcm9sbFZpZXdSZWYpO1xuICB9LFxuXG4gIGdldElubmVyVmlld05vZGU6IGZ1bmN0aW9uKCk6IGFueSB7XG4gICAgcmV0dXJuIFJlYWN0TmF0aXZlLmZpbmROb2RlSGFuZGxlKHRoaXMuX2lubmVyVmlld1JlZik7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNjcm9sbHMgdG8gYSBnaXZlbiB4LCB5IG9mZnNldCwgZWl0aGVyIGltbWVkaWF0ZWx5IG9yIHdpdGggYSBzbW9vdGggYW5pbWF0aW9uLlxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKlxuICAgKiBgc2Nyb2xsVG8oe3g6IDAsIHk6IDAsIGFuaW1hdGVkOiB0cnVlfSlgXG4gICAqXG4gICAqIE5vdGU6IFRoZSB3ZWlyZCBmdW5jdGlvbiBzaWduYXR1cmUgaXMgZHVlIHRvIHRoZSBmYWN0IHRoYXQsIGZvciBoaXN0b3JpY2FsIHJlYXNvbnMsXG4gICAqIHRoZSBmdW5jdGlvbiBhbHNvIGFjY2VwdHMgc2VwYXJhdGUgYXJndW1lbnRzIGFzIGFuIGFsdGVybmF0aXZlIHRvIHRoZSBvcHRpb25zIG9iamVjdC5cbiAgICogVGhpcyBpcyBkZXByZWNhdGVkIGR1ZSB0byBhbWJpZ3VpdHkgKHkgYmVmb3JlIHgpLCBhbmQgU0hPVUxEIE5PVCBCRSBVU0VELlxuICAgKi9cbiAgc2Nyb2xsVG86IGZ1bmN0aW9uKFxuICAgIHk/OiBudW1iZXIgfCB7eD86IG51bWJlciwgeT86IG51bWJlciwgYW5pbWF0ZWQ/OiBib29sZWFufSxcbiAgICB4PzogbnVtYmVyLFxuICAgIGFuaW1hdGVkPzogYm9vbGVhbixcbiAgKSB7XG4gICAgaWYgKHR5cGVvZiB5ID09PSAnbnVtYmVyJykge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnYHNjcm9sbFRvKHksIHgsIGFuaW1hdGVkKWAgaXMgZGVwcmVjYXRlZC4gVXNlIGBzY3JvbGxUbyh7eDogNSwgeTogNSwgJyArXG4gICAgICAgICAgJ2FuaW1hdGVkOiB0cnVlfSlgIGluc3RlYWQuJyxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgICh7eCwgeSwgYW5pbWF0ZWR9ID0geSB8fCB7fSk7XG4gICAgfVxuICAgIHRoaXMuZ2V0U2Nyb2xsUmVzcG9uZGVyKCkuc2Nyb2xsUmVzcG9uZGVyU2Nyb2xsVG8oe1xuICAgICAgeDogeCB8fCAwLFxuICAgICAgeTogeSB8fCAwLFxuICAgICAgYW5pbWF0ZWQ6IGFuaW1hdGVkICE9PSBmYWxzZSxcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogSWYgdGhpcyBpcyBhIHZlcnRpY2FsIFNjcm9sbFZpZXcgc2Nyb2xscyB0byB0aGUgYm90dG9tLlxuICAgKiBJZiB0aGlzIGlzIGEgaG9yaXpvbnRhbCBTY3JvbGxWaWV3IHNjcm9sbHMgdG8gdGhlIHJpZ2h0LlxuICAgKlxuICAgKiBVc2UgYHNjcm9sbFRvRW5kKHthbmltYXRlZDogdHJ1ZX0pYCBmb3Igc21vb3RoIGFuaW1hdGVkIHNjcm9sbGluZyxcbiAgICogYHNjcm9sbFRvRW5kKHthbmltYXRlZDogZmFsc2V9KWAgZm9yIGltbWVkaWF0ZSBzY3JvbGxpbmcuXG4gICAqIElmIG5vIG9wdGlvbnMgYXJlIHBhc3NlZCwgYGFuaW1hdGVkYCBkZWZhdWx0cyB0byB0cnVlLlxuICAgKi9cbiAgc2Nyb2xsVG9FbmQ6IGZ1bmN0aW9uKG9wdGlvbnM/OiB7YW5pbWF0ZWQ/OiBib29sZWFufSkge1xuICAgIC8vIERlZmF1bHQgdG8gdHJ1ZVxuICAgIGNvbnN0IGFuaW1hdGVkID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5hbmltYXRlZCkgIT09IGZhbHNlO1xuICAgIHRoaXMuZ2V0U2Nyb2xsUmVzcG9uZGVyKCkuc2Nyb2xsUmVzcG9uZGVyU2Nyb2xsVG9FbmQoe1xuICAgICAgYW5pbWF0ZWQ6IGFuaW1hdGVkLFxuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBEZXByZWNhdGVkLCB1c2UgYHNjcm9sbFRvYCBpbnN0ZWFkLlxuICAgKi9cbiAgc2Nyb2xsV2l0aG91dEFuaW1hdGlvblRvOiBmdW5jdGlvbih5OiBudW1iZXIgPSAwLCB4OiBudW1iZXIgPSAwKSB7XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgJ2BzY3JvbGxXaXRob3V0QW5pbWF0aW9uVG9gIGlzIGRlcHJlY2F0ZWQuIFVzZSBgc2Nyb2xsVG9gIGluc3RlYWQnLFxuICAgICk7XG4gICAgdGhpcy5zY3JvbGxUbyh7eCwgeSwgYW5pbWF0ZWQ6IGZhbHNlfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIERpc3BsYXlzIHRoZSBzY3JvbGwgaW5kaWNhdG9ycyBtb21lbnRhcmlseS5cbiAgICpcbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgZmxhc2hTY3JvbGxJbmRpY2F0b3JzOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmdldFNjcm9sbFJlc3BvbmRlcigpLnNjcm9sbFJlc3BvbmRlckZsYXNoU2Nyb2xsSW5kaWNhdG9ycygpO1xuICB9LFxuXG4gIF9nZXRLZXlGb3JJbmRleDogZnVuY3Rpb24oaW5kZXgsIGNoaWxkQXJyYXkpIHtcbiAgICAvLyAkRmxvd0ZpeE1lIEludmFsaWQgcHJvcCB1c2FnZVxuICAgIGNvbnN0IGNoaWxkID0gY2hpbGRBcnJheVtpbmRleF07XG4gICAgcmV0dXJuIGNoaWxkICYmIGNoaWxkLmtleTtcbiAgfSxcblxuICBfdXBkYXRlQW5pbWF0ZWROb2RlQXR0YWNobWVudDogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50KSB7XG4gICAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudC5kZXRhY2goKTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgdGhpcy5wcm9wcy5zdGlja3lIZWFkZXJJbmRpY2VzICYmXG4gICAgICB0aGlzLnByb3BzLnN0aWNreUhlYWRlckluZGljZXMubGVuZ3RoID4gMFxuICAgICkge1xuICAgICAgdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQgPSBBbmltYXRlZEltcGxlbWVudGF0aW9uLmF0dGFjaE5hdGl2ZUV2ZW50KFxuICAgICAgICB0aGlzLl9zY3JvbGxWaWV3UmVmLFxuICAgICAgICAnb25TY3JvbGwnLFxuICAgICAgICBbe25hdGl2ZUV2ZW50OiB7Y29udGVudE9mZnNldDoge3k6IHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWV9fX1dLFxuICAgICAgKTtcbiAgICB9XG4gIH0sXG5cbiAgX3NldFN0aWNreUhlYWRlclJlZjogZnVuY3Rpb24oa2V5LCByZWYpIHtcbiAgICBpZiAocmVmKSB7XG4gICAgICB0aGlzLl9zdGlja3lIZWFkZXJSZWZzLnNldChrZXksIHJlZik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N0aWNreUhlYWRlclJlZnMuZGVsZXRlKGtleSk7XG4gICAgfVxuICB9LFxuXG4gIF9vblN0aWNreUhlYWRlckxheW91dDogZnVuY3Rpb24oaW5kZXgsIGV2ZW50LCBrZXkpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMuc3RpY2t5SGVhZGVySW5kaWNlcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjaGlsZEFycmF5ID0gUmVhY3QuQ2hpbGRyZW4udG9BcnJheSh0aGlzLnByb3BzLmNoaWxkcmVuKTtcbiAgICBpZiAoa2V5ICE9PSB0aGlzLl9nZXRLZXlGb3JJbmRleChpbmRleCwgY2hpbGRBcnJheSkpIHtcbiAgICAgIC8vIGlnbm9yZSBzdGFsZSBsYXlvdXQgdXBkYXRlXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbGF5b3V0WSA9IGV2ZW50Lm5hdGl2ZUV2ZW50LmxheW91dC55O1xuICAgIHRoaXMuX2hlYWRlckxheW91dFlzLnNldChrZXksIGxheW91dFkpO1xuXG4gICAgY29uc3QgaW5kZXhPZkluZGV4ID0gdGhpcy5wcm9wcy5zdGlja3lIZWFkZXJJbmRpY2VzLmluZGV4T2YoaW5kZXgpO1xuICAgIGNvbnN0IHByZXZpb3VzSGVhZGVySW5kZXggPSB0aGlzLnByb3BzLnN0aWNreUhlYWRlckluZGljZXNbXG4gICAgICBpbmRleE9mSW5kZXggLSAxXG4gICAgXTtcbiAgICBpZiAocHJldmlvdXNIZWFkZXJJbmRleCAhPSBudWxsKSB7XG4gICAgICBjb25zdCBwcmV2aW91c0hlYWRlciA9IHRoaXMuX3N0aWNreUhlYWRlclJlZnMuZ2V0KFxuICAgICAgICB0aGlzLl9nZXRLZXlGb3JJbmRleChwcmV2aW91c0hlYWRlckluZGV4LCBjaGlsZEFycmF5KSxcbiAgICAgICk7XG4gICAgICBwcmV2aW91c0hlYWRlciAmJiBwcmV2aW91c0hlYWRlci5zZXROZXh0SGVhZGVyWShsYXlvdXRZKTtcbiAgICB9XG4gIH0sXG5cbiAgX2hhbmRsZVNjcm9sbDogZnVuY3Rpb24oZTogT2JqZWN0KSB7XG4gICAgaWYgKF9fREVWX18pIHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5wcm9wcy5vblNjcm9sbCAmJlxuICAgICAgICB0aGlzLnByb3BzLnNjcm9sbEV2ZW50VGhyb3R0bGUgPT0gbnVsbCAmJlxuICAgICAgICBQbGF0Zm9ybS5PUyA9PT0gJ2lvcydcbiAgICAgICkge1xuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAnWW91IHNwZWNpZmllZCBgb25TY3JvbGxgIG9uIGEgPFNjcm9sbFZpZXc+IGJ1dCBub3QgJyArXG4gICAgICAgICAgICAnYHNjcm9sbEV2ZW50VGhyb3R0bGVgLiBZb3Ugd2lsbCBvbmx5IHJlY2VpdmUgb25lIGV2ZW50LiAnICtcbiAgICAgICAgICAgICdVc2luZyBgMTZgIHlvdSBnZXQgYWxsIHRoZSBldmVudHMgYnV0IGJlIGF3YXJlIHRoYXQgaXQgbWF5ICcgK1xuICAgICAgICAgICAgXCJjYXVzZSBmcmFtZSBkcm9wcywgdXNlIGEgYmlnZ2VyIG51bWJlciBpZiB5b3UgZG9uJ3QgbmVlZCBhcyBcIiArXG4gICAgICAgICAgICAnbXVjaCBwcmVjaXNpb24uJyxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcpIHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5wcm9wcy5rZXlib2FyZERpc21pc3NNb2RlID09PSAnb24tZHJhZycgJiZcbiAgICAgICAgdGhpcy5zdGF0ZS5pc1RvdWNoaW5nXG4gICAgICApIHtcbiAgICAgICAgZGlzbWlzc0tleWJvYXJkKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuc2Nyb2xsUmVzcG9uZGVySGFuZGxlU2Nyb2xsKGUpO1xuICB9LFxuXG4gIF9oYW5kbGVMYXlvdXQ6IGZ1bmN0aW9uKGU6IE9iamVjdCkge1xuICAgIGlmICh0aGlzLnByb3BzLmludmVydFN0aWNreUhlYWRlcnMpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe2xheW91dEhlaWdodDogZS5uYXRpdmVFdmVudC5sYXlvdXQuaGVpZ2h0fSk7XG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLm9uTGF5b3V0KSB7XG4gICAgICB0aGlzLnByb3BzLm9uTGF5b3V0KGUpO1xuICAgIH1cbiAgfSxcblxuICBfaGFuZGxlQ29udGVudE9uTGF5b3V0OiBmdW5jdGlvbihlOiBPYmplY3QpIHtcbiAgICBjb25zdCB7d2lkdGgsIGhlaWdodH0gPSBlLm5hdGl2ZUV2ZW50LmxheW91dDtcbiAgICB0aGlzLnByb3BzLm9uQ29udGVudFNpemVDaGFuZ2UgJiZcbiAgICAgIHRoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSh3aWR0aCwgaGVpZ2h0KTtcbiAgfSxcblxuICBfc2Nyb2xsVmlld1JlZjogKG51bGw6ID9TY3JvbGxWaWV3KSxcbiAgX3NldFNjcm9sbFZpZXdSZWY6IGZ1bmN0aW9uKHJlZjogP1Njcm9sbFZpZXcpIHtcbiAgICB0aGlzLl9zY3JvbGxWaWV3UmVmID0gcmVmO1xuICB9LFxuXG4gIF9pbm5lclZpZXdSZWY6IChudWxsOiA/TmF0aXZlTWV0aG9kc01peGluVHlwZSksXG4gIF9zZXRJbm5lclZpZXdSZWY6IGZ1bmN0aW9uKHJlZjogP05hdGl2ZU1ldGhvZHNNaXhpblR5cGUpIHtcbiAgICB0aGlzLl9pbm5lclZpZXdSZWYgPSByZWY7XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICBsZXQgU2Nyb2xsVmlld0NsYXNzO1xuICAgIGxldCBTY3JvbGxDb250ZW50Q29udGFpbmVyVmlld0NsYXNzO1xuICAgIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5ob3Jpem9udGFsKSB7XG4gICAgICAgIFNjcm9sbFZpZXdDbGFzcyA9IEFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsVmlldztcbiAgICAgICAgU2Nyb2xsQ29udGVudENvbnRhaW5lclZpZXdDbGFzcyA9IEFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsQ29udGVudFZpZXc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBTY3JvbGxWaWV3Q2xhc3MgPSBBbmRyb2lkU2Nyb2xsVmlldztcbiAgICAgICAgU2Nyb2xsQ29udGVudENvbnRhaW5lclZpZXdDbGFzcyA9IFZpZXc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIFNjcm9sbFZpZXdDbGFzcyA9IFJDVFNjcm9sbFZpZXc7XG4gICAgICBTY3JvbGxDb250ZW50Q29udGFpbmVyVmlld0NsYXNzID0gUkNUU2Nyb2xsQ29udGVudFZpZXc7XG4gICAgfVxuXG4gICAgaW52YXJpYW50KFxuICAgICAgU2Nyb2xsVmlld0NsYXNzICE9PSB1bmRlZmluZWQsXG4gICAgICAnU2Nyb2xsVmlld0NsYXNzIG11c3Qgbm90IGJlIHVuZGVmaW5lZCcsXG4gICAgKTtcblxuICAgIGludmFyaWFudChcbiAgICAgIFNjcm9sbENvbnRlbnRDb250YWluZXJWaWV3Q2xhc3MgIT09IHVuZGVmaW5lZCxcbiAgICAgICdTY3JvbGxDb250ZW50Q29udGFpbmVyVmlld0NsYXNzIG11c3Qgbm90IGJlIHVuZGVmaW5lZCcsXG4gICAgKTtcblxuICAgIGNvbnN0IGNvbnRlbnRDb250YWluZXJTdHlsZSA9IFtcbiAgICAgIHRoaXMucHJvcHMuaG9yaXpvbnRhbCAmJiBzdHlsZXMuY29udGVudENvbnRhaW5lckhvcml6b250YWwsXG4gICAgICB0aGlzLnByb3BzLmNvbnRlbnRDb250YWluZXJTdHlsZSxcbiAgICBdO1xuICAgIGlmIChfX0RFVl9fICYmIHRoaXMucHJvcHMuc3R5bGUpIHtcbiAgICAgIGNvbnN0IHN0eWxlID0gZmxhdHRlblN0eWxlKHRoaXMucHJvcHMuc3R5bGUpO1xuICAgICAgY29uc3QgY2hpbGRMYXlvdXRQcm9wcyA9IFsnYWxpZ25JdGVtcycsICdqdXN0aWZ5Q29udGVudCddLmZpbHRlcihcbiAgICAgICAgcHJvcCA9PiBzdHlsZSAmJiBzdHlsZVtwcm9wXSAhPT0gdW5kZWZpbmVkLFxuICAgICAgKTtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgY2hpbGRMYXlvdXRQcm9wcy5sZW5ndGggPT09IDAsXG4gICAgICAgICdTY3JvbGxWaWV3IGNoaWxkIGxheW91dCAoJyArXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkoY2hpbGRMYXlvdXRQcm9wcykgK1xuICAgICAgICAgICcpIG11c3QgYmUgYXBwbGllZCB0aHJvdWdoIHRoZSBjb250ZW50Q29udGFpbmVyU3R5bGUgcHJvcC4nLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBsZXQgY29udGVudFNpemVDaGFuZ2VQcm9wcyA9IHt9O1xuICAgIGlmICh0aGlzLnByb3BzLm9uQ29udGVudFNpemVDaGFuZ2UpIHtcbiAgICAgIGNvbnRlbnRTaXplQ2hhbmdlUHJvcHMgPSB7XG4gICAgICAgIG9uTGF5b3V0OiB0aGlzLl9oYW5kbGVDb250ZW50T25MYXlvdXQsXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IHtzdGlja3lIZWFkZXJJbmRpY2VzfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgaGFzU3RpY2t5SGVhZGVycyA9XG4gICAgICBzdGlja3lIZWFkZXJJbmRpY2VzICYmIHN0aWNreUhlYWRlckluZGljZXMubGVuZ3RoID4gMDtcbiAgICBjb25zdCBjaGlsZEFycmF5ID1cbiAgICAgIGhhc1N0aWNreUhlYWRlcnMgJiYgUmVhY3QuQ2hpbGRyZW4udG9BcnJheSh0aGlzLnByb3BzLmNoaWxkcmVuKTtcbiAgICBjb25zdCBjaGlsZHJlbiA9IGhhc1N0aWNreUhlYWRlcnNcbiAgICAgID8gLy8gJEZsb3dGaXhNZSBJbnZhbGlkIHByb3AgdXNhZ2VcbiAgICAgICAgY2hpbGRBcnJheS5tYXAoKGNoaWxkLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGluZGV4T2ZJbmRleCA9IGNoaWxkID8gc3RpY2t5SGVhZGVySW5kaWNlcy5pbmRleE9mKGluZGV4KSA6IC0xO1xuICAgICAgICAgIGlmIChpbmRleE9mSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gY2hpbGQua2V5O1xuICAgICAgICAgICAgY29uc3QgbmV4dEluZGV4ID0gc3RpY2t5SGVhZGVySW5kaWNlc1tpbmRleE9mSW5kZXggKyAxXTtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxTY3JvbGxWaWV3U3RpY2t5SGVhZGVyXG4gICAgICAgICAgICAgICAga2V5PXtrZXl9XG4gICAgICAgICAgICAgICAgcmVmPXtyZWYgPT4gdGhpcy5fc2V0U3RpY2t5SGVhZGVyUmVmKGtleSwgcmVmKX1cbiAgICAgICAgICAgICAgICBuZXh0SGVhZGVyTGF5b3V0WT17dGhpcy5faGVhZGVyTGF5b3V0WXMuZ2V0KFxuICAgICAgICAgICAgICAgICAgdGhpcy5fZ2V0S2V5Rm9ySW5kZXgobmV4dEluZGV4LCBjaGlsZEFycmF5KSxcbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIG9uTGF5b3V0PXtldmVudCA9PlxuICAgICAgICAgICAgICAgICAgdGhpcy5fb25TdGlja3lIZWFkZXJMYXlvdXQoaW5kZXgsIGV2ZW50LCBrZXkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNjcm9sbEFuaW1hdGVkVmFsdWU9e3RoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWV9XG4gICAgICAgICAgICAgICAgaW52ZXJ0ZWQ9e3RoaXMucHJvcHMuaW52ZXJ0U3RpY2t5SGVhZGVyc31cbiAgICAgICAgICAgICAgICBzY3JvbGxWaWV3SGVpZ2h0PXt0aGlzLnN0YXRlLmxheW91dEhlaWdodH0+XG4gICAgICAgICAgICAgICAge2NoaWxkfVxuICAgICAgICAgICAgICA8L1Njcm9sbFZpZXdTdGlja3lIZWFkZXI+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgOiB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICAgIGNvbnN0IGNvbnRlbnRDb250YWluZXIgPSAoXG4gICAgICA8U2Nyb2xsQ29udGVudENvbnRhaW5lclZpZXdDbGFzc1xuICAgICAgICB7Li4uY29udGVudFNpemVDaGFuZ2VQcm9wc31cbiAgICAgICAgLy8gJEZsb3dGaXhNZSBJbnZhbGlkIHByb3AgdXNhZ2VcbiAgICAgICAgcmVmPXt0aGlzLl9zZXRJbm5lclZpZXdSZWZ9XG4gICAgICAgIHN0eWxlPXtjb250ZW50Q29udGFpbmVyU3R5bGV9XG4gICAgICAgIHJlbW92ZUNsaXBwZWRTdWJ2aWV3cz17XG4gICAgICAgICAgLy8gU3VidmlldyBjbGlwcGluZyBjYXVzZXMgaXNzdWVzIHdpdGggc3RpY2t5IGhlYWRlcnMgb24gQW5kcm9pZCBhbmRcbiAgICAgICAgICAvLyB3b3VsZCBiZSBoYXJkIHRvIGZpeCBwcm9wZXJseSBpbiBhIHBlcmZvcm1hbnQgd2F5LlxuICAgICAgICAgIFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcgJiYgaGFzU3RpY2t5SGVhZGVyc1xuICAgICAgICAgICAgPyBmYWxzZVxuICAgICAgICAgICAgOiB0aGlzLnByb3BzLnJlbW92ZUNsaXBwZWRTdWJ2aWV3c1xuICAgICAgICB9XG4gICAgICAgIGNvbGxhcHNhYmxlPXtmYWxzZX0+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvU2Nyb2xsQ29udGVudENvbnRhaW5lclZpZXdDbGFzcz5cbiAgICApO1xuXG4gICAgY29uc3QgYWx3YXlzQm91bmNlSG9yaXpvbnRhbCA9XG4gICAgICB0aGlzLnByb3BzLmFsd2F5c0JvdW5jZUhvcml6b250YWwgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IHRoaXMucHJvcHMuYWx3YXlzQm91bmNlSG9yaXpvbnRhbFxuICAgICAgICA6IHRoaXMucHJvcHMuaG9yaXpvbnRhbDtcblxuICAgIGNvbnN0IGFsd2F5c0JvdW5jZVZlcnRpY2FsID1cbiAgICAgIHRoaXMucHJvcHMuYWx3YXlzQm91bmNlVmVydGljYWwgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IHRoaXMucHJvcHMuYWx3YXlzQm91bmNlVmVydGljYWxcbiAgICAgICAgOiAhdGhpcy5wcm9wcy5ob3Jpem9udGFsO1xuXG4gICAgY29uc3QgREVQUkVDQVRFRF9zZW5kVXBkYXRlZENoaWxkRnJhbWVzID0gISF0aGlzLnByb3BzXG4gICAgICAuREVQUkVDQVRFRF9zZW5kVXBkYXRlZENoaWxkRnJhbWVzO1xuXG4gICAgY29uc3QgYmFzZVN0eWxlID0gdGhpcy5wcm9wcy5ob3Jpem9udGFsXG4gICAgICA/IHN0eWxlcy5iYXNlSG9yaXpvbnRhbFxuICAgICAgOiBzdHlsZXMuYmFzZVZlcnRpY2FsO1xuICAgIGNvbnN0IHByb3BzID0ge1xuICAgICAgLi4udGhpcy5wcm9wcyxcbiAgICAgIGFsd2F5c0JvdW5jZUhvcml6b250YWwsXG4gICAgICBhbHdheXNCb3VuY2VWZXJ0aWNhbCxcbiAgICAgIHN0eWxlOiAoW2Jhc2VTdHlsZSwgdGhpcy5wcm9wcy5zdHlsZV06ID9BcnJheTxhbnk+KSxcbiAgICAgIC8vIE92ZXJyaWRlIHRoZSBvbkNvbnRlbnRTaXplQ2hhbmdlIGZyb20gcHJvcHMsIHNpbmNlIHRoaXMgZXZlbnQgY2FuXG4gICAgICAvLyBidWJibGUgdXAgZnJvbSBUZXh0SW5wdXRzXG4gICAgICBvbkNvbnRlbnRTaXplQ2hhbmdlOiBudWxsLFxuICAgICAgb25MYXlvdXQ6IHRoaXMuX2hhbmRsZUxheW91dCxcbiAgICAgIG9uTW9tZW50dW1TY3JvbGxCZWdpbjogdGhpcy5zY3JvbGxSZXNwb25kZXJIYW5kbGVNb21lbnR1bVNjcm9sbEJlZ2luLFxuICAgICAgb25Nb21lbnR1bVNjcm9sbEVuZDogdGhpcy5zY3JvbGxSZXNwb25kZXJIYW5kbGVNb21lbnR1bVNjcm9sbEVuZCxcbiAgICAgIG9uUmVzcG9uZGVyR3JhbnQ6IHRoaXMuc2Nyb2xsUmVzcG9uZGVySGFuZGxlUmVzcG9uZGVyR3JhbnQsXG4gICAgICBvblJlc3BvbmRlclJlamVjdDogdGhpcy5zY3JvbGxSZXNwb25kZXJIYW5kbGVSZXNwb25kZXJSZWplY3QsXG4gICAgICBvblJlc3BvbmRlclJlbGVhc2U6IHRoaXMuc2Nyb2xsUmVzcG9uZGVySGFuZGxlUmVzcG9uZGVyUmVsZWFzZSxcbiAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgIG9uUmVzcG9uZGVyVGVybWluYXRlOiB0aGlzLnNjcm9sbFJlc3BvbmRlckhhbmRsZVRlcm1pbmF0ZSxcbiAgICAgIG9uUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0OiB0aGlzXG4gICAgICAgIC5zY3JvbGxSZXNwb25kZXJIYW5kbGVUZXJtaW5hdGlvblJlcXVlc3QsXG4gICAgICBvblNjcm9sbDogdGhpcy5faGFuZGxlU2Nyb2xsLFxuICAgICAgb25TY3JvbGxCZWdpbkRyYWc6IHRoaXMuc2Nyb2xsUmVzcG9uZGVySGFuZGxlU2Nyb2xsQmVnaW5EcmFnLFxuICAgICAgb25TY3JvbGxFbmREcmFnOiB0aGlzLnNjcm9sbFJlc3BvbmRlckhhbmRsZVNjcm9sbEVuZERyYWcsXG4gICAgICBvblNjcm9sbFNob3VsZFNldFJlc3BvbmRlcjogdGhpc1xuICAgICAgICAuc2Nyb2xsUmVzcG9uZGVySGFuZGxlU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyLFxuICAgICAgb25TdGFydFNob3VsZFNldFJlc3BvbmRlcjogdGhpc1xuICAgICAgICAuc2Nyb2xsUmVzcG9uZGVySGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXIsXG4gICAgICBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZTogdGhpc1xuICAgICAgICAuc2Nyb2xsUmVzcG9uZGVySGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlLFxuICAgICAgb25Ub3VjaEVuZDogdGhpcy5zY3JvbGxSZXNwb25kZXJIYW5kbGVUb3VjaEVuZCxcbiAgICAgIG9uVG91Y2hNb3ZlOiB0aGlzLnNjcm9sbFJlc3BvbmRlckhhbmRsZVRvdWNoTW92ZSxcbiAgICAgIG9uVG91Y2hTdGFydDogdGhpcy5zY3JvbGxSZXNwb25kZXJIYW5kbGVUb3VjaFN0YXJ0LFxuICAgICAgb25Ub3VjaENhbmNlbDogdGhpcy5zY3JvbGxSZXNwb25kZXJIYW5kbGVUb3VjaENhbmNlbCxcbiAgICAgIHNjcm9sbEJhclRodW1iSW1hZ2U6IHJlc29sdmVBc3NldFNvdXJjZSh0aGlzLnByb3BzLnNjcm9sbEJhclRodW1iSW1hZ2UpLFxuICAgICAgc2Nyb2xsRXZlbnRUaHJvdHRsZTogaGFzU3RpY2t5SGVhZGVyc1xuICAgICAgICA/IDFcbiAgICAgICAgOiB0aGlzLnByb3BzLnNjcm9sbEV2ZW50VGhyb3R0bGUsXG4gICAgICBzZW5kTW9tZW50dW1FdmVudHM6XG4gICAgICAgIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEJlZ2luIHx8IHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEVuZFxuICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgIDogZmFsc2UsXG4gICAgICBERVBSRUNBVEVEX3NlbmRVcGRhdGVkQ2hpbGRGcmFtZXMsXG4gICAgICAvLyBwYWdpbmdFbmFibGVkIGlzIG92ZXJyaWRkZW4gYnkgc25hcFRvSW50ZXJ2YWwgLyBzbmFwVG9PZmZzZXRzXG4gICAgICBwYWdpbmdFbmFibGVkOiBQbGF0Zm9ybS5zZWxlY3Qoe1xuICAgICAgICAvLyBvbiBpT1MsIHBhZ2luZ0VuYWJsZWQgbXVzdCBiZSBzZXQgdG8gZmFsc2UgdG8gaGF2ZSBzbmFwVG9JbnRlcnZhbCAvIHNuYXBUb09mZnNldHMgd29ya1xuICAgICAgICBpb3M6XG4gICAgICAgICAgdGhpcy5wcm9wcy5wYWdpbmdFbmFibGVkICYmXG4gICAgICAgICAgdGhpcy5wcm9wcy5zbmFwVG9JbnRlcnZhbCA9PSBudWxsICYmXG4gICAgICAgICAgdGhpcy5wcm9wcy5zbmFwVG9PZmZzZXRzID09IG51bGwsXG4gICAgICAgIC8vIG9uIEFuZHJvaWQsIHBhZ2luZ0VuYWJsZWQgbXVzdCBiZSBzZXQgdG8gdHJ1ZSB0byBoYXZlIHNuYXBUb0ludGVydmFsIC8gc25hcFRvT2Zmc2V0cyB3b3JrXG4gICAgICAgIGFuZHJvaWQ6XG4gICAgICAgICAgdGhpcy5wcm9wcy5wYWdpbmdFbmFibGVkIHx8XG4gICAgICAgICAgdGhpcy5wcm9wcy5zbmFwVG9JbnRlcnZhbCAhPSBudWxsIHx8XG4gICAgICAgICAgdGhpcy5wcm9wcy5zbmFwVG9PZmZzZXRzICE9IG51bGwsXG4gICAgICB9KSxcbiAgICB9O1xuXG4gICAgY29uc3Qge2RlY2VsZXJhdGlvblJhdGV9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoZGVjZWxlcmF0aW9uUmF0ZSAhPSBudWxsKSB7XG4gICAgICBwcm9wcy5kZWNlbGVyYXRpb25SYXRlID0gcHJvY2Vzc0RlY2VsZXJhdGlvblJhdGUoZGVjZWxlcmF0aW9uUmF0ZSk7XG4gICAgfVxuXG4gICAgY29uc3QgcmVmcmVzaENvbnRyb2wgPSB0aGlzLnByb3BzLnJlZnJlc2hDb250cm9sO1xuXG4gICAgaWYgKHJlZnJlc2hDb250cm9sKSB7XG4gICAgICBpZiAoUGxhdGZvcm0uT1MgPT09ICdpb3MnKSB7XG4gICAgICAgIC8vIE9uIGlPUyB0aGUgUmVmcmVzaENvbnRyb2wgaXMgYSBjaGlsZCBvZiB0aGUgU2Nyb2xsVmlldy5cbiAgICAgICAgLy8gdHZPUyBsYWNrcyBuYXRpdmUgc3VwcG9ydCBmb3IgUmVmcmVzaENvbnRyb2wsIHNvIGRvbid0IGluY2x1ZGUgaXQgaW4gdGhhdCBjYXNlXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFNjcm9sbFZpZXdDbGFzcyB7Li4ucHJvcHN9IHJlZj17dGhpcy5fc2V0U2Nyb2xsVmlld1JlZn0+XG4gICAgICAgICAgICB7UGxhdGZvcm0uaXNUViA/IG51bGwgOiByZWZyZXNoQ29udHJvbH1cbiAgICAgICAgICAgIHtjb250ZW50Q29udGFpbmVyfVxuICAgICAgICAgIDwvU2Nyb2xsVmlld0NsYXNzPlxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgICAgIC8vIE9uIEFuZHJvaWQgd3JhcCB0aGUgU2Nyb2xsVmlldyB3aXRoIGEgQW5kcm9pZFN3aXBlUmVmcmVzaExheW91dC5cbiAgICAgICAgLy8gU2luY2UgdGhlIFNjcm9sbFZpZXcgaXMgd3JhcHBlZCBhZGQgdGhlIHN0eWxlIHByb3BzIHRvIHRoZVxuICAgICAgICAvLyBBbmRyb2lkU3dpcGVSZWZyZXNoTGF5b3V0IGFuZCB1c2UgZmxleDogMSBmb3IgdGhlIFNjcm9sbFZpZXcuXG4gICAgICAgIC8vIE5vdGU6IHdlIHNob3VsZCBvbmx5IGFwcGx5IHByb3BzLnN0eWxlIG9uIHRoZSB3cmFwcGVyXG4gICAgICAgIC8vIGhvd2V2ZXIsIHRoZSBTY3JvbGxWaWV3IHN0aWxsIG5lZWRzIHRoZSBiYXNlU3R5bGUgdG8gYmUgc2Nyb2xsYWJsZVxuXG4gICAgICAgIHJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQoXG4gICAgICAgICAgcmVmcmVzaENvbnRyb2wsXG4gICAgICAgICAge3N0eWxlOiBwcm9wcy5zdHlsZX0sXG4gICAgICAgICAgPFNjcm9sbFZpZXdDbGFzc1xuICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgICAgc3R5bGU9e2Jhc2VTdHlsZX1cbiAgICAgICAgICAgIHJlZj17dGhpcy5fc2V0U2Nyb2xsVmlld1JlZn0+XG4gICAgICAgICAgICB7Y29udGVudENvbnRhaW5lcn1cbiAgICAgICAgICA8L1Njcm9sbFZpZXdDbGFzcz4sXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8U2Nyb2xsVmlld0NsYXNzIHsuLi5wcm9wc30gcmVmPXt0aGlzLl9zZXRTY3JvbGxWaWV3UmVmfT5cbiAgICAgICAge2NvbnRlbnRDb250YWluZXJ9XG4gICAgICA8L1Njcm9sbFZpZXdDbGFzcz5cbiAgICApO1xuICB9LFxufSk7XG5cbmNvbnN0IFR5cGVkU2Nyb2xsVmlldyA9ICgoU2Nyb2xsVmlldzogYW55KTogQ2xhc3M8XG4gIEludGVybmFsU2Nyb2xsVmlld1R5cGU8UHJvcHM+LFxuPik7XG5cbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgYmFzZVZlcnRpY2FsOiB7XG4gICAgZmxleEdyb3c6IDEsXG4gICAgZmxleFNocmluazogMSxcbiAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICBvdmVyZmxvdzogJ3Njcm9sbCcsXG4gIH0sXG4gIGJhc2VIb3Jpem9udGFsOiB7XG4gICAgZmxleEdyb3c6IDEsXG4gICAgZmxleFNocmluazogMSxcbiAgICBmbGV4RGlyZWN0aW9uOiAncm93JyxcbiAgICBvdmVyZmxvdzogJ3Njcm9sbCcsXG4gIH0sXG4gIGNvbnRlbnRDb250YWluZXJIb3Jpem9udGFsOiB7XG4gICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gIH0sXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBUeXBlZFNjcm9sbFZpZXc7XG4iXX0=