f14ca69ab170e49123c152899ef2f2e0

'use strict';

var PropTypes = require('prop-types');
var UIManager = require('UIManager');

var keyMirror = require('fbjs/lib/keyMirror');

var checkPropTypes = PropTypes.checkPropTypes;


var TypesEnum = {
  spring: true,
  linear: true,
  easeInEaseOut: true,
  easeIn: true,
  easeOut: true,
  keyboard: true
};
var Types = keyMirror(TypesEnum);

var PropertiesEnum = {
  opacity: true,
  scaleX: true,
  scaleY: true,
  scaleXY: true
};
var Properties = keyMirror(PropertiesEnum);

var animType = PropTypes.shape({
  duration: PropTypes.number,
  delay: PropTypes.number,
  springDamping: PropTypes.number,
  initialVelocity: PropTypes.number,
  type: PropTypes.oneOf(Object.keys(Types)).isRequired,
  property: PropTypes.oneOf(Object.keys(Properties))
});

var configType = PropTypes.shape({
  duration: PropTypes.number.isRequired,
  create: animType,
  update: animType,
  delete: animType
});

function checkConfig(config, location, name) {
  checkPropTypes({ config: configType }, { config: config }, location, name);
}

function configureNext(config, onAnimationDidEnd) {
  if (__DEV__) {
    checkConfig(config, 'config', 'LayoutAnimation.configureNext');
  }
  UIManager.configureNextLayoutAnimation(config, onAnimationDidEnd || function () {}, function () {});
}

function create(duration, type, creationProp) {
  return {
    duration: duration,
    create: {
      type: type,
      property: creationProp
    },
    update: {
      type: type
    },
    delete: {
      type: type,
      property: creationProp
    }
  };
}

var Presets = {
  easeInEaseOut: create(300, Types.easeInEaseOut, Properties.opacity),
  linear: create(500, Types.linear, Properties.opacity),
  spring: {
    duration: 700,
    create: {
      type: Types.linear,
      property: Properties.opacity
    },
    update: {
      type: Types.spring,
      springDamping: 0.4
    },
    delete: {
      type: Types.linear,
      property: Properties.opacity
    }
  }
};

var LayoutAnimation = {
  configureNext: configureNext,

  create: create,
  Types: Types,
  Properties: Properties,
  checkConfig: checkConfig,
  Presets: Presets,
  easeInEaseOut: configureNext.bind(null, Presets.easeInEaseOut),
  linear: configureNext.bind(null, Presets.linear),
  spring: configureNext.bind(null, Presets.spring)
};

module.exports = LayoutAnimation;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkxheW91dEFuaW1hdGlvbi5qcyJdLCJuYW1lcyI6WyJQcm9wVHlwZXMiLCJyZXF1aXJlIiwiVUlNYW5hZ2VyIiwia2V5TWlycm9yIiwiY2hlY2tQcm9wVHlwZXMiLCJUeXBlc0VudW0iLCJzcHJpbmciLCJsaW5lYXIiLCJlYXNlSW5FYXNlT3V0IiwiZWFzZUluIiwiZWFzZU91dCIsImtleWJvYXJkIiwiVHlwZXMiLCJQcm9wZXJ0aWVzRW51bSIsIm9wYWNpdHkiLCJzY2FsZVgiLCJzY2FsZVkiLCJzY2FsZVhZIiwiUHJvcGVydGllcyIsImFuaW1UeXBlIiwic2hhcGUiLCJkdXJhdGlvbiIsIm51bWJlciIsImRlbGF5Iiwic3ByaW5nRGFtcGluZyIsImluaXRpYWxWZWxvY2l0eSIsInR5cGUiLCJvbmVPZiIsIk9iamVjdCIsImtleXMiLCJpc1JlcXVpcmVkIiwicHJvcGVydHkiLCJjb25maWdUeXBlIiwiY3JlYXRlIiwidXBkYXRlIiwiZGVsZXRlIiwiY2hlY2tDb25maWciLCJjb25maWciLCJsb2NhdGlvbiIsIm5hbWUiLCJjb25maWd1cmVOZXh0Iiwib25BbmltYXRpb25EaWRFbmQiLCJfX0RFVl9fIiwiY29uZmlndXJlTmV4dExheW91dEFuaW1hdGlvbiIsImNyZWF0aW9uUHJvcCIsIlByZXNldHMiLCJMYXlvdXRBbmltYXRpb24iLCJiaW5kIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IjtBQVNBOztBQUVBLElBQU1BLFlBQVlDLFFBQVEsWUFBUixDQUFsQjtBQUNBLElBQU1DLFlBQVlELFFBQVEsV0FBUixDQUFsQjs7QUFLQSxJQUFNRSxZQUFZRixRQUFRLG9CQUFSLENBQWxCOztJQUVPRyxjLEdBQWtCSixTLENBQWxCSSxjOzs7QUFFUCxJQUFNQyxZQUFZO0FBQ2hCQyxVQUFRLElBRFE7QUFFaEJDLFVBQVEsSUFGUTtBQUdoQkMsaUJBQWUsSUFIQztBQUloQkMsVUFBUSxJQUpRO0FBS2hCQyxXQUFTLElBTE87QUFNaEJDLFlBQVU7QUFO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QyxDQXpCYztBQTBCdEJELFVBQVFrQyxjQUFjTyxJQUFkLENBQW1CLElBQW5CLEVBQXlCRixRQUFRdkMsTUFBakM7QUExQmMsQ0FBeEI7O0FBNkJBMEMsT0FBT0MsT0FBUCxHQUFpQkgsZUFBakIiLCJmaWxlIjoiTGF5b3V0QW5pbWF0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvd1xuICogQGZvcm1hdFxuICovXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IFByb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcbmNvbnN0IFVJTWFuYWdlciA9IHJlcXVpcmUoJ1VJTWFuYWdlcicpO1xuXG4vKiAkRmxvd0ZpeE1lKD49MC41NC4wIHNpdGU9cmVhY3RfbmF0aXZlX29zcykgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW4gZXJyb3JcbiAqIGZvdW5kIHdoZW4gRmxvdyB2MC41NCB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IgZGVsZXRlIHRoaXMgY29tbWVudCBhbmRcbiAqIHJ1biBGbG93LiAqL1xuY29uc3Qga2V5TWlycm9yID0gcmVxdWlyZSgnZmJqcy9saWIva2V5TWlycm9yJyk7XG5cbmNvbnN0IHtjaGVja1Byb3BUeXBlc30gPSBQcm9wVHlwZXM7XG5cbmNvbnN0IFR5cGVzRW51bSA9IHtcbiAgc3ByaW5nOiB0cnVlLFxuICBsaW5lYXI6IHRydWUsXG4gIGVhc2VJbkVhc2VPdXQ6IHRydWUsXG4gIGVhc2VJbjogdHJ1ZSxcbiAgZWFzZU91dDogdHJ1ZSxcbiAga2V5Ym9hcmQ6IHRydWUsXG59O1xuY29uc3QgVHlwZXMgPSBrZXlNaXJyb3IoVHlwZXNFbnVtKTtcblxuY29uc3QgUHJvcGVydGllc0VudW0gPSB7XG4gIG9wYWNpdHk6IHRydWUsXG4gIHNjYWxlWDogdHJ1ZSxcbiAgc2NhbGVZOiB0cnVlLFxuICBzY2FsZVhZOiB0cnVlLFxufTtcbmNvbnN0IFByb3BlcnRpZXMgPSBrZXlNaXJyb3IoUHJvcGVydGllc0VudW0pO1xuXG5jb25zdCBhbmltVHlwZSA9IFByb3BUeXBlcy5zaGFwZSh7XG4gIGR1cmF0aW9uOiBQcm9wVHlwZXMubnVtYmVyLFxuICBkZWxheTogUHJvcFR5cGVzLm51bWJlcixcbiAgc3ByaW5nRGFtcGluZzogUHJvcFR5cGVzLm51bWJlcixcbiAgaW5pdGlhbFZlbG9jaXR5OiBQcm9wVHlwZXMubnVtYmVyLFxuICB0eXBlOiBQcm9wVHlwZXMub25lT2YoT2JqZWN0LmtleXMoVHlwZXMpKS5pc1JlcXVpcmVkLFxuICBwcm9wZXJ0eTogUHJvcFR5cGVzLm9uZU9mKFxuICAgIC8vIE9ubHkgYXBwbGllcyB0byBjcmVhdGUvZGVsZXRlXG4gICAgT2JqZWN0LmtleXMoUHJvcGVydGllcyksXG4gICksXG59KTtcblxudHlwZSBBbmltID0ge1xuICBkdXJhdGlvbj86IG51bWJlcixcbiAgZGVsYXk/OiBudW1iZXIsXG4gIHNwcmluZ0RhbXBpbmc/OiBudW1iZXIsXG4gIGluaXRpYWxWZWxvY2l0eT86IG51bWJlcixcbiAgdHlwZT86ICRFbnVtPHR5cGVvZiBUeXBlc0VudW0+LFxuICBwcm9wZXJ0eT86ICRFbnVtPHR5cGVvZiBQcm9wZXJ0aWVzRW51bT4sXG59O1xuXG5jb25zdCBjb25maWdUeXBlID0gUHJvcFR5cGVzLnNoYXBlKHtcbiAgZHVyYXRpb246IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgY3JlYXRlOiBhbmltVHlwZSxcbiAgdXBkYXRlOiBhbmltVHlwZSxcbiAgZGVsZXRlOiBhbmltVHlwZSxcbn0pO1xuXG50eXBlIENvbmZpZyA9IHtcbiAgZHVyYXRpb246IG51bWJlcixcbiAgY3JlYXRlPzogQW5pbSxcbiAgdXBkYXRlPzogQW5pbSxcbiAgZGVsZXRlPzogQW5pbSxcbn07XG5cbmZ1bmN0aW9uIGNoZWNrQ29uZmlnKGNvbmZpZzogQ29uZmlnLCBsb2NhdGlvbjogc3RyaW5nLCBuYW1lOiBzdHJpbmcpIHtcbiAgY2hlY2tQcm9wVHlwZXMoe2NvbmZpZzogY29uZmlnVHlwZX0sIHtjb25maWd9LCBsb2NhdGlvbiwgbmFtZSk7XG59XG5cbmZ1bmN0aW9uIGNvbmZpZ3VyZU5leHQoY29uZmlnOiBDb25maWcsIG9uQW5pbWF0aW9uRGlkRW5kPzogRnVuY3Rpb24pIHtcbiAgaWYgKF9fREVWX18pIHtcbiAgICBjaGVja0NvbmZpZyhjb25maWcsICdjb25maWcnLCAnTGF5b3V0QW5pbWF0aW9uLmNvbmZpZ3VyZU5leHQnKTtcbiAgfVxuICBVSU1hbmFnZXIuY29uZmlndXJlTmV4dExheW91dEFuaW1hdGlvbihcbiAgICBjb25maWcsXG4gICAgb25BbmltYXRpb25EaWRFbmQgfHwgZnVuY3Rpb24oKSB7fSxcbiAgICBmdW5jdGlvbigpIHtcbiAgICAgIC8qIHVudXNlZCAqL1xuICAgIH0sXG4gICk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZShkdXJhdGlvbjogbnVtYmVyLCB0eXBlLCBjcmVhdGlvblByb3ApOiBDb25maWcge1xuICByZXR1cm4ge1xuICAgIGR1cmF0aW9uLFxuICAgIGNyZWF0ZToge1xuICAgICAgdHlwZSxcbiAgICAgIHByb3BlcnR5OiBjcmVhdGlvblByb3AsXG4gICAgfSxcbiAgICB1cGRhdGU6IHtcbiAgICAgIHR5cGUsXG4gICAgfSxcbiAgICBkZWxldGU6IHtcbiAgICAgIHR5cGUsXG4gICAgICBwcm9wZXJ0eTogY3JlYXRpb25Qcm9wLFxuICAgIH0sXG4gIH07XG59XG5cbmNvbnN0IFByZXNldHMgPSB7XG4gIGVhc2VJbkVhc2VPdXQ6IGNyZWF0ZSgzMDAsIFR5cGVzLmVhc2VJbkVhc2VPdXQsIFByb3BlcnRpZXMub3BhY2l0eSksXG4gIGxpbmVhcjogY3JlYXRlKDUwMCwgVHlwZXMubGluZWFyLCBQcm9wZXJ0aWVzLm9wYWNpdHkpLFxuICBzcHJpbmc6IHtcbiAgICBkdXJhdGlvbjogNzAwLFxuICAgIGNyZWF0ZToge1xuICAgICAgdHlwZTogVHlwZXMubGluZWFyLFxuICAgICAgcHJvcGVydHk6IFByb3BlcnRpZXMub3BhY2l0eSxcbiAgICB9LFxuICAgIHVwZGF0ZToge1xuICAgICAgdHlwZTogVHlwZXMuc3ByaW5nLFxuICAgICAgc3ByaW5nRGFtcGluZzogMC40LFxuICAgIH0sXG4gICAgZGVsZXRlOiB7XG4gICAgICB0eXBlOiBUeXBlcy5saW5lYXIsXG4gICAgICBwcm9wZXJ0eTogUHJvcGVydGllcy5vcGFjaXR5LFxuICAgIH0sXG4gIH0sXG59O1xuXG4vKipcbiAqIEF1dG9tYXRpY2FsbHkgYW5pbWF0ZXMgdmlld3MgdG8gdGhlaXIgbmV3IHBvc2l0aW9ucyB3aGVuIHRoZVxuICogbmV4dCBsYXlvdXQgaGFwcGVucy5cbiAqXG4gKiBBIGNvbW1vbiB3YXkgdG8gdXNlIHRoaXMgQVBJIGlzIHRvIGNhbGwgaXQgYmVmb3JlIGNhbGxpbmcgYHNldFN0YXRlYC5cbiAqXG4gKiBOb3RlIHRoYXQgaW4gb3JkZXIgdG8gZ2V0IHRoaXMgdG8gd29yayBvbiAqKkFuZHJvaWQqKiB5b3UgbmVlZCB0byBzZXQgdGhlIGZvbGxvd2luZyBmbGFncyB2aWEgYFVJTWFuYWdlcmA6XG4gKlxuICogICAgIFVJTWFuYWdlci5zZXRMYXlvdXRBbmltYXRpb25FbmFibGVkRXhwZXJpbWVudGFsICYmIFVJTWFuYWdlci5zZXRMYXlvdXRBbmltYXRpb25FbmFibGVkRXhwZXJpbWVudGFsKHRydWUpO1xuICovXG5jb25zdCBMYXlvdXRBbmltYXRpb24gPSB7XG4gIC8qKlxuICAgKiBTY2hlZHVsZXMgYW4gYW5pbWF0aW9uIHRvIGhhcHBlbiBvbiB0aGUgbmV4dCBsYXlvdXQuXG4gICAqXG4gICAqIEBwYXJhbSBjb25maWcgU3BlY2lmaWVzIGFuaW1hdGlvbiBwcm9wZXJ0aWVzOlxuICAgKlxuICAgKiAgIC0gYGR1cmF0aW9uYCBpbiBtaWxsaXNlY29uZHNcbiAgICogICAtIGBjcmVhdGVgLCBjb25maWcgZm9yIGFuaW1hdGluZyBpbiBuZXcgdmlld3MgKHNlZSBgQW5pbWAgdHlwZSlcbiAgICogICAtIGB1cGRhdGVgLCBjb25maWcgZm9yIGFuaW1hdGluZyB2aWV3cyB0aGF0IGhhdmUgYmVlbiB1cGRhdGVkXG4gICAqIChzZWUgYEFuaW1gIHR5cGUpXG4gICAqXG4gICAqIEBwYXJhbSBvbkFuaW1hdGlvbkRpZEVuZCBDYWxsZWQgd2hlbiB0aGUgYW5pbWF0aW9uIGZpbmlzaGVkLlxuICAgKiBPbmx5IHN1cHBvcnRlZCBvbiBpT1MuXG4gICAqIEBwYXJhbSBvbkVycm9yIENhbGxlZCBvbiBlcnJvci4gT25seSBzdXBwb3J0ZWQgb24gaU9TLlxuICAgKi9cbiAgY29uZmlndXJlTmV4dCxcbiAgLyoqXG4gICAqIEhlbHBlciBmb3IgY3JlYXRpbmcgYSBjb25maWcgZm9yIGBjb25maWd1cmVOZXh0YC5cbiAgICovXG4gIGNyZWF0ZSxcbiAgVHlwZXMsXG4gIFByb3BlcnRpZXMsXG4gIGNoZWNrQ29uZmlnLFxuICBQcmVzZXRzLFxuICBlYXNlSW5FYXNlT3V0OiBjb25maWd1cmVOZXh0LmJpbmQobnVsbCwgUHJlc2V0cy5lYXNlSW5FYXNlT3V0KSxcbiAgbGluZWFyOiBjb25maWd1cmVOZXh0LmJpbmQobnVsbCwgUHJlc2V0cy5saW5lYXIpLFxuICBzcHJpbmc6IGNvbmZpZ3VyZU5leHQuYmluZChudWxsLCBQcmVzZXRzLnNwcmluZyksXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IExheW91dEFuaW1hdGlvbjtcbiJdfQ==